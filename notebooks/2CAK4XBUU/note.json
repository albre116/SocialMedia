{
  "paragraphs": [
    {
      "title": "Hook Local Package Files to Path",
      "text": "%python\nimport sys\nsys.path.insert(0,\"/usr/zeppelin/notebook/pythonpckg/Chap02_03\")\nprint(sys.path)",
      "user": "anonymous",
      "dateUpdated": "Mar 4, 2017 6:30:02 PM",
      "config": {
        "colWidth": 12.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "python",
          "editOnDblClick": false
        },
        "editorMode": "ace/mode/python",
        "title": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TEXT",
            "data": "[\u0027/usr/zeppelin/notebook/pythonpckg/Chap02_03\u0027, \u0027/usr/zeppelin/notebook/pythonpckg/Chap02_03\u0027, \u0027\u0027, \u0027/usr/local/lib/python3.4/dist-packages/pip-9.0.1-py3.4.egg\u0027, \u0027/usr/local/lib/python3.4/dist-packages/py4j-0.10.4-py3.4.egg\u0027, \u0027/usr/interpreter/lib/python\u0027, \u0027/usr/zeppelin/$PYTHONPATH\u0027, \u0027/usr/lib/python3.4\u0027, \u0027/usr/lib/python3.4/plat-x86_64-linux-gnu\u0027, \u0027/usr/lib/python3.4/lib-dynload\u0027, \u0027/usr/local/lib/python3.4/dist-packages\u0027, \u0027/usr/lib/python3/dist-packages\u0027, \u0027/usr/zeppelin/interpreter/lib/python\u0027]\n"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1488164473531_1981506022",
      "id": "20170227-030113_187077902",
      "dateCreated": "Feb 27, 2017 3:01:13 AM",
      "dateStarted": "Mar 4, 2017 6:30:02 PM",
      "dateFinished": "Mar 4, 2017 6:30:02 PM",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%python\nfrom twitter_client import get_twitter_client\nimport json\nclient \u003d get_twitter_client()\nprofile \u003d client.get_user(screen_name\u003d\"PacktPub\")\nprint(json.dumps(profile._json, indent \u003d4))\n\n",
      "user": "anonymous",
      "dateUpdated": "Mar 2, 2017 1:27:19 AM",
      "config": {
        "colWidth": 12.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "python",
          "editOnDblClick": false
        },
        "editorMode": "ace/mode/python"
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TEXT",
            "data": "{\n    \"name\": \"Packt\",\n    \"favourites_count\": 1190,\n    \"status\": {\n        \"is_quote_status\": false,\n        \"place\": null,\n        \"in_reply_to_user_id\": null,\n        \"favorite_count\": 8,\n        \"source\": \"\u003ca href\u003d\\\"http://sproutsocial.com\\\" rel\u003d\\\"nofollow\\\"\u003eSprout Social\u003c/a\u003e\",\n        \"geo\": null,\n        \"in_reply_to_user_id_str\": null,\n        \"in_reply_to_status_id\": null,\n        \"entities\": {\n            \"symbols\": [],\n            \"user_mentions\": [],\n            \"hashtags\": [\n                {\n                    \"text\": \"Angular\",\n                    \"indices\": [\n                        23,\n                        31\n                    ]\n                },\n                {\n                    \"text\": \"JavaScript\",\n                    \"indices\": [\n                        100,\n                        111\n                    ]\n                }\n            ],\n            \"urls\": [\n                {\n                    \"display_url\": \"packtpub.com/packt/free-ebo\\u2026\",\n                    \"indices\": [\n                        76,\n                        99\n                    ],\n                    \"url\": \"https://t.co/pyQdHRVttr\",\n                    \"expanded_url\": \"https://www.packtpub.com/packt/free-ebook/what-you-need-know-about-angular\"\n                },\n                {\n                    \"display_url\": \"twitter.com/i/web/status/8\\u2026\",\n                    \"indices\": [\n                        113,\n                        136\n                    ],\n                    \"url\": \"https://t.co/R61isipTPl\",\n                    \"expanded_url\": \"https://twitter.com/i/web/status/837075986579603456\"\n                }\n            ]\n        },\n        \"id\": 837075986579603456,\n        \"contributors\": null,\n        \"in_reply_to_status_id_str\": null,\n        \"possibly_sensitive\": false,\n        \"truncated\": true,\n        \"favorited\": false,\n        \"id_str\": \"837075986579603456\",\n        \"retweeted\": false,\n        \"retweet_count\": 4,\n        \"lang\": \"en\",\n        \"coordinates\": null,\n        \"created_at\": \"Wed Mar 01 23:04:01 +0000 2017\",\n        \"in_reply_to_screen_name\": null,\n        \"text\": \"Discover the basics of #Angular 2 with our free eBook that explains it all: https://t.co/pyQdHRVttr #JavaScript\\u2026 https://t.co/R61isipTPl\"\n    },\n    \"profile_location\": null,\n    \"verified\": true,\n    \"profile_background_tile\": true,\n    \"entities\": {\n        \"url\": {\n            \"urls\": [\n                {\n                    \"display_url\": \"PacktPub.com\",\n                    \"indices\": [\n                        0,\n                        22\n                    ],\n                    \"url\": \"http://t.co/vEPCgOu235\",\n                    \"expanded_url\": \"http://www.PacktPub.com\"\n                }\n            ]\n        },\n        \"description\": {\n            \"urls\": []\n        }\n    },\n    \"url\": \"http://t.co/vEPCgOu235\",\n    \"profile_use_background_image\": true,\n    \"location\": \"Birmingham, UK\",\n    \"following\": false,\n    \"contributors_enabled\": false,\n    \"statuses_count\": 16605,\n    \"translator_type\": \"none\",\n    \"friends_count\": 1152,\n    \"created_at\": \"Mon Dec 01 13:16:47 +0000 2008\",\n    \"screen_name\": \"PacktPub\",\n    \"default_profile\": false,\n    \"followers_count\": 17720,\n    \"profile_background_color\": \"FFA200\",\n    \"profile_text_color\": \"666666\",\n    \"is_translation_enabled\": false,\n    \"profile_image_url\": \"http://pbs.twimg.com/profile_images/763664369850933250/Qbroz7iN_normal.jpg\",\n    \"utc_offset\": 0,\n    \"profile_background_image_url\": \"http://pbs.twimg.com/profile_background_images/498821312354058242/-H6BGz56.png\",\n    \"follow_request_sent\": false,\n    \"listed_count\": 1160,\n    \"has_extended_profile\": false,\n    \"default_profile_image\": false,\n    \"description\": \"We help developers build better software | Email customercare@packtpub.com for support | Twitter support 9-5 Mon-Fri\",\n    \"geo_enabled\": true,\n    \"profile_sidebar_border_color\": \"000000\",\n    \"profile_background_image_url_https\": \"https://pbs.twimg.com/profile_background_images/498821312354058242/-H6BGz56.png\",\n    \"profile_banner_url\": \"https://pbs.twimg.com/profile_banners/17778401/1476694720\",\n    \"profile_image_url_https\": \"https://pbs.twimg.com/profile_images/763664369850933250/Qbroz7iN_normal.jpg\",\n    \"protected\": false,\n    \"profile_link_color\": \"0084B4\",\n    \"id_str\": \"17778401\",\n    \"lang\": \"en\",\n    \"notifications\": false,\n    \"id\": 17778401,\n    \"profile_sidebar_fill_color\": \"CC9933\",\n    \"time_zone\": \"London\",\n    \"is_translator\": false\n}\n"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1488164539535_1378463289",
      "id": "20170227-030219_2047250947",
      "dateCreated": "Feb 27, 2017 3:02:19 AM",
      "dateStarted": "Mar 2, 2017 1:27:19 AM",
      "dateFinished": "Mar 2, 2017 1:27:20 AM",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "title": "Get Followers and Friends of Target",
      "text": "%sh cd /usr/zeppelin/notebook \u0026\u0026\npython /usr/zeppelin/notebook/pythonpckg/Chap02_03/twitter_get_user.py PacktPub",
      "user": "anonymous",
      "dateUpdated": "Mar 2, 2017 1:36:54 AM",
      "config": {
        "colWidth": 12.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "sh",
          "editOnDblClick": false
        },
        "editorMode": "ace/mode/sh",
        "title": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "ERROR",
        "msg": [
          {
            "type": "TEXT",
            "data": "More results available. Sleeping for 60 seconds to avoid rate limit\nMore results available. Sleeping for 60 seconds to avoid rate limit\nTraceback (most rMeocreen tr ecsaulllt sl aasvta)i:l\n  File \"/usr/zeppelin/notebook/pythonpckg/Chap02_03/twitter_get_user.py\", line 55, in \u003cmodule\u003e\n    users \u003d client.lookup_users(user_ids\u003dchunk)\n  File \"/usr/local/lib/python3.4/dist-packages/tweepy/api.py\", line 322, in lookup_users\n    return self._lookup_users(post_data\u003dpost_data)\n  File \"/usr/local/lib/python3.4/dist-packages/tweepy/binder.py\", line 245, in _call\n    return method.execute()\n  File \"/usr/local/lib/python3.4/dist-packages/tweepy/binder.py\", line 229, in execute\n    raise TweepError(error_msg, resp, api_code\u003dapi_error_code)\ntweepy.error.TweepError: [{\u0027code\u0027: 32, \u0027message\u0027: \u0027Could not authenticate you.\u0027}]\nable. Sleeping for 60 seconds to avoid rate limit\n"
          },
          {
            "type": "TEXT",
            "data": "ExitValue: 1"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1488164833954_-1339573152",
      "id": "20170227-030713_247712242",
      "dateCreated": "Feb 27, 2017 3:07:13 AM",
      "dateStarted": "Mar 2, 2017 1:31:48 AM",
      "dateFinished": "Mar 2, 2017 1:36:28 AM",
      "status": "ERROR",
      "progressUpdateIntervalMs": 500
    },
    {
      "title": "User Stats list methods",
      "text": "%sh cd /usr/zeppelin/notebook \u0026\u0026\npython /usr/zeppelin/notebook/pythonpckg/Chap02_03/twitter_followers_stats.py PacktPub\n",
      "user": "anonymous",
      "dateUpdated": "Mar 2, 2017 1:48:16 AM",
      "config": {
        "colWidth": 12.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "sh",
          "editOnDblClick": false
        },
        "editorMode": "ace/mode/sh",
        "title": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TEXT",
            "data": "----- Timing -----\nInitialize data: 0.8608033657073975\nSet-based operations: 0.3534057140350342\nTotal time: 1.2142090797424316\n----- Stats -----\nPacktPub has 15000 followers\nPacktPub has 700 friends\nPacktPub has 381 mutual friends\n319 friends are not following PacktPub back\n14619 followers are not followed back by PacktPub\nSome mutual friends: cesardelfinr, gKillilea11, J_D_Landis, DG_Ed, Rustbeltdiary\n"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1488417617941_885708161",
      "id": "20170302-012017_977099561",
      "dateCreated": "Mar 2, 2017 1:20:17 AM",
      "dateStarted": "Mar 2, 2017 1:46:55 AM",
      "dateFinished": "Mar 2, 2017 1:46:57 AM",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "title": "Check set operator timing",
      "text": "%sh cd /usr/zeppelin/notebook \u0026\u0026\npython /usr/zeppelin/notebook/pythonpckg/Chap02_03/twitter_followers_stats_set.py PacktPub\n",
      "user": "anonymous",
      "dateUpdated": "Mar 2, 2017 1:48:00 AM",
      "config": {
        "colWidth": 12.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "scala"
        },
        "editorMode": "ace/mode/scala",
        "title": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TEXT",
            "data": "----- Timing -----\nInitialize data: 0.8699491024017334\nSet-based operations: 0.0010688304901123047\nTotal time: 0.8710179328918457\n----- Stats -----\nPacktPub has 15000 followers\nPacktPub has 700 friends\nPacktPub has 381 mutual friends\n319 friends are not following PacktPub back\n14619 followers are not followed back by PacktPub\n"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1488418654299_-993331612",
      "id": "20170302-013734_1397451114",
      "dateCreated": "Mar 2, 2017 1:37:34 AM",
      "dateStarted": "Mar 2, 2017 1:47:01 AM",
      "dateFinished": "Mar 2, 2017 1:47:02 AM",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "title": "Check Numpy Timing",
      "text": "%sh cd /usr/zeppelin/notebook \u0026\u0026\npython /usr/zeppelin/notebook/pythonpckg/Chap02_03/twitter_followers_stats_numpy.py PacktPub\n",
      "user": "anonymous",
      "dateUpdated": "Mar 2, 2017 1:47:47 AM",
      "config": {
        "colWidth": 12.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "scala"
        },
        "editorMode": "ace/mode/scala",
        "title": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TEXT",
            "data": "----- Timing -----\nInitialize data: 0.9404487609863281\nSet-based operations: 0.013110876083374023\nTotal time: 0.9535596370697021\n----- Stats -----\nPacktPub has 15000 followers\nPacktPub has 700 friends\nPacktPub has 381 mutual friends\n319 friends are not following PacktPub back\n14619 followers are not followed back by PacktPub\n"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1488419191926_888638367",
      "id": "20170302-014631_1742619980",
      "dateCreated": "Mar 2, 2017 1:46:31 AM",
      "dateStarted": "Mar 2, 2017 1:47:08 AM",
      "dateFinished": "Mar 2, 2017 1:47:09 AM",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "title": "Get Source data for influencers followers",
      "text": "%sh cd /usr/zeppelin/notebook \u0026\u0026\npython /usr/zeppelin/notebook/pythonpckg/Chap02_03/twitter_get_user.py marcobonzanini \u0026\u0026\npython /usr/zeppelin/notebook/pythonpckg/Chap02_03/twitter_get_user.py PacktPub\n",
      "user": "anonymous",
      "dateUpdated": "Mar 2, 2017 2:11:47 AM",
      "config": {
        "colWidth": 12.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "scala"
        },
        "editorMode": "ace/mode/scala",
        "title": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TEXT",
            "data": "More results available. Sleeping for 60 seconds to avoid rate limit\nMore results available. Sleeping for 60 seconds to avoid rate limit\nMore results available. Sleeping for 60 seconds to avoid rate limit\n"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1488419717618_355342454",
      "id": "20170302-015517_131044796",
      "dateCreated": "Mar 2, 2017 1:55:17 AM",
      "dateStarted": "Mar 2, 2017 2:11:47 AM",
      "dateFinished": "Mar 2, 2017 2:18:20 AM",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "title": "Get Source data for influencer timelines",
      "text": "%sh cd /usr/zeppelin/notebook \u0026\u0026\npython /usr/zeppelin/notebook/pythonpckg/Chap02_03/twitter_get_user_timeline.py marcobonzanini \u0026\u0026\npython /usr/zeppelin/notebook/pythonpckg/Chap02_03/twitter_get_user_timeline.py PacktPub\n",
      "user": "anonymous",
      "dateUpdated": "Mar 2, 2017 2:18:52 AM",
      "config": {
        "colWidth": 12.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "scala"
        },
        "editorMode": "ace/mode/scala",
        "title": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": []
      },
      "apps": [],
      "jobName": "paragraph_1488419918381_78767647",
      "id": "20170302-015838_1562410435",
      "dateCreated": "Mar 2, 2017 1:58:38 AM",
      "dateStarted": "Mar 2, 2017 2:18:52 AM",
      "dateFinished": "Mar 2, 2017 2:18:58 AM",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "title": "Compute Influence ",
      "text": "%sh cd /usr/zeppelin/notebook \u0026\u0026\npython /usr/zeppelin/notebook/pythonpckg/Chap02_03/twitter_influence.py marcobonzanini PacktPub\n",
      "user": "anonymous",
      "dateUpdated": "Mar 2, 2017 2:19:02 AM",
      "config": {
        "colWidth": 12.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "scala"
        },
        "editorMode": "ace/mode/scala",
        "title": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TEXT",
            "data": "----- Stats marcobonzanini -----\n854 followers\n3542812 users reached by 1-degree connections\nAverage number of followers for marcobonzanini\u0027s followers: 4148.49\nFavorited 949 times (2.16 per tweet, 1.11 per user)\nRetweeted 2593 times (5.89 per tweet, 3.04 per user)\n----- Stats PacktPub -----\n17721 followers\n47110076 users reached by 1-degree connections\nAverage number of followers for PacktPub\u0027s followers: 2658.43\nFavorited 8449 times (0.51 per tweet, 0.48 per user)\nRetweeted 94776 times (5.71 per tweet, 5.35 per user)\n"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1488419228019_117094229",
      "id": "20170302-014708_1962196116",
      "dateCreated": "Mar 2, 2017 1:47:08 AM",
      "dateStarted": "Mar 2, 2017 2:19:02 AM",
      "dateFinished": "Mar 2, 2017 2:19:03 AM",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "title": "Cluster Kmeans by TF-IDF",
      "text": "%sh cd /usr/zeppelin/notebook \u0026\u0026\npython /usr/zeppelin/notebook/pythonpckg/Chap02_03/twitter_cluster_users.py \\\n--filename users/marcobonzanini/followers.jsonl \\\n--k 5 \\\n--max-features 200 \\\n--max-ngram 3\n",
      "user": "anonymous",
      "dateUpdated": "Mar 2, 2017 2:30:07 AM",
      "config": {
        "colWidth": 12.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "sh",
          "editOnDblClick": false
        },
        "editorMode": "ace/mode/sh",
        "title": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TEXT",
            "data": "Data dimensions: (854, 200)\n---------- Cluster 0\n\nHere to share events, tutorials, courses, books... related to #noSQL #mongoDB #Cassandra, #DyanmoDB, #AzureTable #Riak, #BerkeleyDB #couchDB....\nalways learning\nCS Undergrad, CEG. Novice Computer Programmer. Anything that is Computer Technology interests me. A TV and Movie freak.\nPostdoctoral Fellow at Harvard Kennedy School, Program on Education Policy and Governance\nStudent, geek and developer. #pythonista\nCTO @ H-ART, Dad, Cyclist, Runner\nProfesseur agrégé Sciences Physiques / Physique Appliquée\nProducts @Cisco. NFV, cloud, DevOps, digital trans, machine learning, blockchain. Christ follower. Love simplicity, wine \u0026 bacon. #MWC17\nnice to see you guys~\n---------- Cluster 1\nApprentice PhD Data Science researcher. Mountain biker.  \nPhotographer.  \nPredictive analytics addict.  \nSQL.  R.  Python.\nBinge learner.  \nMission fan.\nAttempting Data Science. \nCo-organiser for Hadoop User Group UK @hug_UK\nPassionate about Data Science, Machine Learning, OpenData, Python, and data for social good in international development\nStudent at Queen Mary, University of London. Major in Big Data Science\nOCP, CISSP, CCAH, CCDH. Founder of  @novadatascience. Interests - Databases, Machine Learning, Data Science, Python, Scala, Apache Spark. Opinions are my own.\nHello from Rome! Nuclear Engineer who loves astronomy, physics, mathematics and data science. Love music expecially prog, heavy and rock!!\n15-16 November 2017 #BigData London hosts leading global data \u0026 analytics experts, ready to arm you with the tools to deliver an effective data-driven strategy\nPassionate about startups \u0026 data science\nData librarian\nComputer Science + Software Developer. Interested in big data,  data driven *,  musician,  coffee lover,  soccer lover.\n---------- Cluster 2\nLa SAEM Thales y el Centro de Informática Científica de Andalucía (CICA), organizan los cursos sobre Matemáticas - Informática - Educación y Nuevas Tecnologías\nPython científico en español: NumPy, SciPy, matplotlib y más. ¿Quieres colaborar? ¡Escríbenos! Mucho buen humor :)\nCréation d\u0027un nouveau conglomérat regroupant @Montreal_AI et @Quebec_AI Inauguration prévue en début 2017. #MtlIA #MtlAI #MontrealAI #QuebecAI\nLa felicidad no suele ser un objetivo sino una consecuencia.\nCodeur en série repenti / Responsable de systèmes d\u0027information sous la contrainte / Photographe amateur de machins pas très beaux\nProfesor e investigador de #Sociología, ahora en Freie Universität Berlin y #UdeA. Siempre del RCD Espanyol ⚽. Mi blog: http://t.co/w4CqcbdG1u y mi web\nCorriendo por los cerros, estudiando (MSc-DCC  UCH) datos.Si no twitteo es porque estoy en la montaña\nIngeniería en Desarrollo de Software, apasionado con la tecnología.\nCo-fundador de Artiolabs. Diplomado en Ingeniería Informatica de Gestión y con un Master Universitario en Inteligencia Artificial.\nLingüista. Ahora en la UAM. Acabando un libro sobre el español y las nuevas tecnologías. Investigando el discurso en las redes sociales.\n---------- Cluster 3\nData Scientist @Mallzee \u0026 Physicist, Python enthusiast, always learning.\nData Scientist @AvanadeUK. Views my own.\ncecilialiao \u003d {\u0027@dunnhumby\u0027: \u0027data scientist\u0027, \u0027@pydatalondon\u0027: \u0027co-organiser\u0027}\nData Scientist \u0026 Director @Applied_AI, Organiser @bayesianmixer. Cautious Optimist.\nBioinformatician, Data Scientist and Web Developer\nscientist,cyclist,computerist,googlerist (views my own, and likely nobody else\u0027s)\nData Scientist @Apple.\nData Scientist, math enthusiast, problem solver. Playing with deep learning and big data. Writing at https://t.co/a8doiTscD9\nResearch Scientist @SignalHQ\nData Scientist @StitchFix Human computation \u0026 Styling Algorithms. Artificial Intelligence PhD. Deep Learning, Knowledge Engineering, Robotics, Quantified Self\n---------- Cluster 4\nWorking on my PhD to improve historical research with information technology and helping companies make better decisions based on data. @hrcie #tm1 #python\nBorn at a very young age, professional coffe-drinker, Python Developer @ Energee3, proudly founder of @pyrecommunity\nCS Junior, Python Developer\nFounder \u0026 Organizer @PyDataDelhi -\nCS Junior \u0026 Python Developer -\nResearch Intern @IIITDelhi -\nEx @SquadRunApp (S\u002716) -\nPassionately curious ¯\\_(ツ)_/¯\nroot@bt:~# Whoami \r\nWebApp Security Learner | Python/Django enthusiastic. http://t.co/RvopZcH6lC\nEconomics/Finance/Statistics/Geopolitics. Learning Python and agent-based modeling. Apprentice modeler of social systems\nPythonic Quest is a blog to document my journey in learning #python #programming. Aiming to produce useful #python resources for the community.\nFull Stack Developer @stinkstudios. Swiss⚡️Italian. Python \u0026 Django user. @gdgcampania organiser. @pyconit organiser\nYet another Tony Stark wannabe | Business Dev \u0026 Marketing Technologist at @Zerynth | #IoT #Python #HCI #SciFi\nnice day!  I love #machineLearning #textMining #NLProc  #textanalytics #informationretrieval #python\n"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1488419702611_1735806184",
      "id": "20170302-015502_1068225597",
      "dateCreated": "Mar 2, 2017 1:55:02 AM",
      "dateStarted": "Mar 2, 2017 2:30:07 AM",
      "dateFinished": "Mar 2, 2017 2:30:09 AM",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "title": "Networkx Conversation Thread",
      "text": "%sh cd /usr/zeppelin/notebook \u0026\u0026\npython /usr/zeppelin/notebook/pythonpckg/Chap02_03/twitter_conversation.py stream__woundcare__nurses_burn.jsonl\n",
      "user": "anonymous",
      "dateUpdated": "Mar 4, 2017 2:35:22 PM",
      "config": {
        "colWidth": 12.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "text",
          "editOnDblClick": false
        },
        "editorMode": "ace/mode/text",
        "title": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TEXT",
            "data": "Name: \nType: DiGraph\nNumber of nodes: 369\nNumber of edges: 0\nAverage in degree:   0.0000\nAverage out degree:   0.0000\nMost replied tweet (0 replies):\n{\u0027created_at\u0027: \u0027Sun Feb 26 23:17:08 +0000 2017\u0027, \u0027author\u0027: \u0027lundi_zena\u0027, \u0027tweet\u0027: \u0027Simple But DELICIOUS Snacks That Will Burn Fat -- https://t.co/qc75sglcmo\u0027}\nLongest discussion:\n"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1488421807700_-939549965",
      "id": "20170302-023007_1078982491",
      "dateCreated": "Mar 2, 2017 2:30:07 AM",
      "dateStarted": "Mar 4, 2017 2:35:22 PM",
      "dateFinished": "Mar 4, 2017 2:35:24 PM",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%sh cd /usr/zeppelin/notebook \u0026\u0026\npython /usr/zeppelin/notebook/pythonpckg/Chap02_03/twitter_make_geojson.py --tweets stream__woundcare__nurses_burn.jsonl --geojson stream_woundcare.geo.json",
      "user": "anonymous",
      "dateUpdated": "Mar 4, 2017 2:58:51 PM",
      "config": {
        "colWidth": 12.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "text",
          "editOnDblClick": false
        },
        "editorMode": "ace/mode/text"
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": []
      },
      "apps": [],
      "jobName": "paragraph_1488422277768_-779264036",
      "id": "20170302-023757_337772184",
      "dateCreated": "Mar 2, 2017 2:37:57 AM",
      "dateStarted": "Mar 4, 2017 2:50:23 PM",
      "dateFinished": "Mar 4, 2017 2:50:23 PM",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%sh cd /usr/zeppelin/notebook \u0026\u0026\ncat stream_woundcare.geo.json\n",
      "user": "anonymous",
      "dateUpdated": "Mar 4, 2017 2:51:13 PM",
      "config": {
        "colWidth": 12.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "sh",
          "editOnDblClick": false
        },
        "editorMode": "ace/mode/sh"
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TEXT",
            "data": "{\n    \"features\": [\n        {\n            \"geometry\": {\n                \"coordinates\": [\n                    150.70916176,\n                    -33.97016367\n                ],\n                \"type\": \"Point\"\n            },\n            \"type\": \"Feature\",\n            \"properties\": {\n                \"text\": \"Burn off. Camden (769 The Northern Rd, Bringelly, NSW 2556) at 27 Feb 2017 10:11 https://t.co/eZ1btQ7mTC #NSWRFS #Burnoff #NSWFires\",\n                \"created_at\": \"Sun Feb 26 23:18:01 +0000 2017\"\n            }\n        }\n    ],\n    \"type\": \"FeatureCollection\"\n}"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1488638891343_-424264564",
      "id": "20170304-144811_88786110",
      "dateCreated": "Mar 4, 2017 2:48:11 PM",
      "dateStarted": "Mar 4, 2017 2:51:13 PM",
      "dateFinished": "Mar 4, 2017 2:51:13 PM",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%python\nimport folium\nfolium.GeoJson(open(\u0027/usr/zeppelin/notebook/stream_woundcare.geo.json\u0027),name\u003d\u0027geojson\u0027)\n",
      "user": "anonymous",
      "dateUpdated": "Mar 4, 2017 6:11:38 PM",
      "config": {
        "colWidth": 12.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "python",
          "editOnDblClick": false
        },
        "editorMode": "ace/mode/python"
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TEXT",
            "data": "\u003cfolium.features.GeoJson object at 0x7f9312176ac8\u003e\n"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1488643019077_-1973301754",
      "id": "20170304-155659_1823844582",
      "dateCreated": "Mar 4, 2017 3:56:59 PM",
      "dateStarted": "Mar 4, 2017 6:11:38 PM",
      "dateFinished": "Mar 4, 2017 6:11:38 PM",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%angular\n\u003clink rel\u003d\"stylesheet\" href\u003d\"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.5/leaflet.css\" /\u003e\n\u003cdiv id\u003d\"map\" style\u003d\"height: 800px; width: 100%\"\u003e\u003c/div\u003e\n\n\u003cscript type\u003d\"text/javascript\"\u003e\nfunction initMap() {\n    var map \u003d L.map(\u0027map\u0027).setView([30.00, -30.00], 3);\n\n    L.tileLayer(\u0027http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\u0027, {\n        attribution: \u0027Map data \u0026copy; \u003ca href\u003d\"http://openstreetmap.org\"\u003eOpenStreetMap\u003c/a\u003e contributors\u0027,\n        maxZoom: 12,\n        minZoom: 3\n    }).addTo(map);\n\n    var el \u003d angular.element($(\u0027#map\u0027).parent(\u0027.ng-scope\u0027));\n    angular.element(el).ready(function() {\n        window.locationWatcher \u003d el.scope().compiledScope.$watch(\u0027data\u0027, function(newValue, oldValue) {\n            angular.forEach(newValue, function(tweet) {\n                L.marker([tweet.lat, tweet.lon]).bindPopup(\"\u003cb\u003e\" + tweet.user + \"\u003c/b\u003e\u003cbr\u003e\" + tweet.tweet).addTo(map);             \n            });\n        })\n    });\n}\n\nif (window.locationWatcher) { window.locationWatcher(); }\n\nif (window.L) { initMap(); }\nelse {\n    var sc \u003d document.createElement(\u0027script\u0027);\n    sc.type \u003d \u0027text/javascript\u0027;\n    sc.src \u003d \u0027https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.5/leaflet.js\u0027;\n    sc.onload \u003d initMap;\n    sc.onerror \u003d function(err) { alert(err); }\n    document.getElementsByTagName(\u0027head\u0027)[0].appendChild(sc);\n}\n\u003c/script\u003e\n",
      "user": "anonymous",
      "dateUpdated": "Mar 4, 2017 6:30:09 PM",
      "config": {
        "colWidth": 12.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "scala",
          "editOnDblClick": true
        },
        "editorMode": "ace/mode/undefined",
        "editorHide": true,
        "tableHide": false
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "ANGULAR",
            "data": "\u003clink rel\u003d\"stylesheet\" href\u003d\"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.5/leaflet.css\" /\u003e\n\u003cdiv id\u003d\"map\" style\u003d\"height: 800px; width: 100%\"\u003e\u003c/div\u003e\n\n\u003cscript type\u003d\"text/javascript\"\u003e\nfunction initMap() {\n    var map \u003d L.map(\u0027map\u0027).setView([30.00, -30.00], 3);\n\n    L.tileLayer(\u0027http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\u0027, {\n        attribution: \u0027Map data \u0026copy; \u003ca href\u003d\"http://openstreetmap.org\"\u003eOpenStreetMap\u003c/a\u003e contributors\u0027,\n        maxZoom: 12,\n        minZoom: 3\n    }).addTo(map);\n\n    var el \u003d angular.element($(\u0027#map\u0027).parent(\u0027.ng-scope\u0027));\n    angular.element(el).ready(function() {\n        window.locationWatcher \u003d el.scope().compiledScope.$watch(\u0027data\u0027, function(newValue, oldValue) {\n            angular.forEach(newValue, function(tweet) {\n                L.marker([tweet.lat, tweet.lon]).bindPopup(\"\u003cb\u003e\" + tweet.user + \"\u003c/b\u003e\u003cbr\u003e\" + tweet.tweet).addTo(map);             \n            });\n        })\n    });\n}\n\nif (window.locationWatcher) { window.locationWatcher(); }\n\nif (window.L) { initMap(); }\nelse {\n    var sc \u003d document.createElement(\u0027script\u0027);\n    sc.type \u003d \u0027text/javascript\u0027;\n    sc.src \u003d \u0027https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.5/leaflet.js\u0027;\n    sc.onload \u003d initMap;\n    sc.onerror \u003d function(err) { alert(err); }\n    document.getElementsByTagName(\u0027head\u0027)[0].appendChild(sc);\n}\n\u003c/script\u003e"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1488641060259_19077251",
      "id": "20170304-152420_131094033",
      "dateCreated": "Mar 4, 2017 3:24:20 PM",
      "dateStarted": "Mar 4, 2017 6:30:09 PM",
      "dateFinished": "Mar 4, 2017 6:30:09 PM",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%dep\nz.reset()\n//z.load(\"org.apache.spark:spark-streaming-twitter_2.11:1.5.2\")\nz.load(\"org.apache.bahir:spark-streaming-twitter_2.11:2.0.1\")\nz.load(\"org.twitter4j:twitter4j-core:3.0.3\")\nz.load(\"org.twitter4j:twitter4j-media-support:3.0.3\")\nz.load(\"org.twitter4j:twitter4j-async:3.0.3\")\nz.load(\"org.twitter4j:twitter4j-examples:3.0.3\")\nz.load(\"org.twitter4j:twitter4j-stream:3.0.3\")\n",
      "user": "anonymous",
      "dateUpdated": "Mar 4, 2017 6:30:13 PM",
      "config": {
        "colWidth": 12.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "scala",
          "editOnDblClick": false
        },
        "editorMode": "ace/mode/scala"
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TEXT",
            "data": "res0: org.apache.zeppelin.dep.Dependency \u003d org.apache.zeppelin.dep.Dependency@23e533a6\n"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1488644102885_1730267088",
      "id": "20170304-161502_1014211897",
      "dateCreated": "Mar 4, 2017 4:15:02 PM",
      "dateStarted": "Mar 4, 2017 6:30:13 PM",
      "dateFinished": "Mar 4, 2017 6:30:21 PM",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%spark\nimport org.apache.spark.streaming._\nimport org.apache.spark.streaming.twitter._\n//import org.apache.bahir.spark.streaming.twitter._\nimport org.apache.spark.storage.StorageLevel\nimport scala.io.Source\nimport scala.collection.mutable.HashMap\nimport java.io.File\nimport org.apache.log4j.Logger\nimport org.apache.log4j.Level\nimport sys.process.stringSeqToProcess\nimport twitter4j.HashtagEntity\n",
      "user": "anonymous",
      "dateUpdated": "Mar 4, 2017 6:30:16 PM",
      "config": {
        "colWidth": 12.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "scala",
          "editOnDblClick": false
        },
        "editorMode": "ace/mode/scala"
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TEXT",
            "data": "\nimport org.apache.spark.streaming._\n\nimport org.apache.spark.streaming.twitter._\n\nimport org.apache.spark.storage.StorageLevel\n\nimport scala.io.Source\n\nimport scala.collection.mutable.HashMap\n\nimport java.io.File\n\nimport org.apache.log4j.Logger\n\nimport org.apache.log4j.Level\n\nimport sys.process.stringSeqToProcess\n\nimport twitter4j.HashtagEntity\n"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1488644061932_1416819328",
      "id": "20170304-161421_2143422983",
      "dateCreated": "Mar 4, 2017 4:14:21 PM",
      "dateStarted": "Mar 4, 2017 6:30:16 PM",
      "dateFinished": "Mar 4, 2017 6:30:31 PM",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%spark\nval consumerKey \u003d System.getenv(\"TWITTER_CONSUMER_KEY\")\nval consumerSecret \u003d System.getenv(\"TWITTER_CONSUMER_SECRET\")\nval accessToken \u003d System.getenv(\"TWITTER_ACCESS_TOKEN\")\nval accessTokenSecret \u003d System.getenv(\"TWITTER_ACCESS_SECRET\")\n\nSystem.setProperty(\"twitter4j.oauth.consumerKey\", consumerKey)\nSystem.setProperty(\"twitter4j.oauth.consumerSecret\", consumerSecret)\nSystem.setProperty(\"twitter4j.oauth.accessToken\", accessToken)\nSystem.setProperty(\"twitter4j.oauth.accessTokenSecret\", accessTokenSecret)",
      "user": "anonymous",
      "dateUpdated": "Mar 4, 2017 6:30:50 PM",
      "config": {
        "colWidth": 12.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "scala"
        },
        "editorMode": "ace/mode/scala"
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TEXT",
            "data": "\nconsumerKey: String \u003d UZXuNs30p93oGmxh4L8Bm39A2\n\nconsumerSecret: String \u003d KJrToBczE1JqBafrZQg9yrrHVkx3SGhlq29hCLSMPq3enDfIjL\n\naccessToken: String \u003d 828809891196391424-t3S2blpCVwoSUwjTeXkETXvZwtdOgvj\n\naccessTokenSecret: String \u003d YbL3vYPwwfSRAC9zvbe1rgFGuIS2vsRk3jigc2qqGhng3\n\nres4: String \u003d UZXuNs30p93oGmxh4L8Bm39A2\n\nres5: String \u003d KJrToBczE1JqBafrZQg9yrrHVkx3SGhlq29hCLSMPq3enDfIjL\n\nres6: String \u003d 828809891196391424-t3S2blpCVwoSUwjTeXkETXvZwtdOgvj\n\nres7: String \u003d YbL3vYPwwfSRAC9zvbe1rgFGuIS2vsRk3jigc2qqGhng3\n"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1488644078855_-699284299",
      "id": "20170304-161438_2133319834",
      "dateCreated": "Mar 4, 2017 4:14:38 PM",
      "dateStarted": "Mar 4, 2017 6:30:50 PM",
      "dateFinished": "Mar 4, 2017 6:30:51 PM",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%spark\nimport org.apache.spark.streaming.twitter._\nval ssc \u003d new StreamingContext(sc, Seconds(2))\nval tweets \u003d TwitterUtils.createStream(ssc, None, Array(\"#hadoop\", \"#bigdata\", \"#spark\", \"#hortonworks\", \"#HDP\"))\n//tweets.saveAsObjectFiles(\"hdfs://sandbox.hortonworks.com:8020/test/twitter-spark/twitter_\", \".txt\")\n\nval twt \u003d tweets.window(Seconds(600))\n\ncase class Tweet(createdAt:Long, text:String, screenName:String)\ntwt.map(status\u003d\u003e\n  Tweet(status.getCreatedAt().getTime()/1000, status.getText(), status.getUser().getScreenName())\n).foreachRDD(rdd\u003d\u003e\n  rdd.toDF().registerTempTable(\"tweets\")\n)\n\n//twt.print\n\nssc.start()\n",
      "user": "anonymous",
      "dateUpdated": "Mar 4, 2017 6:11:50 PM",
      "config": {
        "colWidth": 12.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "scala"
        },
        "editorMode": "ace/mode/scala"
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "ERROR",
        "msg": [
          {
            "type": "TEXT",
            "data": "\nimport org.apache.spark.streaming.twitter._\n\nssc: org.apache.spark.streaming.StreamingContext \u003d org.apache.spark.streaming.StreamingContext@76683e\n\ntweets: org.apache.spark.streaming.dstream.ReceiverInputDStream[twitter4j.Status] \u003d org.apache.spark.streaming.twitter.TwitterInputDStream@51068fb1\n\ntwt: org.apache.spark.streaming.dstream.DStream[twitter4j.Status] \u003d org.apache.spark.streaming.dstream.WindowedDStream@424b15a4\n\ndefined class Tweet\n\nwarning: there was one deprecation warning; re-run with -deprecation for details\n\n\n\n\n\n\n\n\n\n\n\n\njava.lang.IllegalStateException: RpcEnv has been stopped\n  at org.apache.spark.rpc.netty.Dispatcher.registerRpcEndpoint(Dispatcher.scala:65)\n  at org.apache.spark.rpc.netty.NettyRpcEnv.setupEndpoint(NettyRpcEnv.scala:129)\n  at org.apache.spark.streaming.scheduler.ReceiverTracker.start(ReceiverTracker.scala:158)\n  at org.apache.spark.streaming.scheduler.JobScheduler.start(JobScheduler.scala:94)\n  at org.apache.spark.streaming.StreamingContext$$anonfun$liftedTree1$1$1.apply$mcV$sp(StreamingContext.scala:583)\n  at org.apache.spark.streaming.StreamingContext$$anonfun$liftedTree1$1$1.apply(StreamingContext.scala:578)\n  at org.apache.spark.streaming.StreamingContext$$anonfun$liftedTree1$1$1.apply(StreamingContext.scala:578)\n  at ... run in separate thread using org.apache.spark.util.ThreadUtils ... ()\n  at org.apache.spark.streaming.StreamingContext.liftedTree1$1(StreamingContext.scala:578)\n  at org.apache.spark.streaming.StreamingContext.start(StreamingContext.scala:572)\n  ... 54 elided\n"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1488645301568_-1732971085",
      "id": "20170304-163501_1805257672",
      "dateCreated": "Mar 4, 2017 4:35:01 PM",
      "dateStarted": "Mar 4, 2017 6:11:50 PM",
      "dateFinished": "Mar 4, 2017 6:11:53 PM",
      "status": "ERROR",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%sql\n-- checking window contents\n\nselect from_unixtime(createdAt), count(1) from tweets group by createdAt order by createdAt\n",
      "user": "anonymous",
      "dateUpdated": "Mar 4, 2017 4:55:00 PM",
      "config": {
        "colWidth": 12.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "sql"
        },
        "editorMode": "ace/mode/sql"
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TABLE",
            "data": "from_unixtime(createdAt, yyyy-MM-dd HH:mm:ss)\tcount(1)\n2017-03-04 16:54:42\t2\n2017-03-04 16:54:47\t1\n2017-03-04 16:54:51\t1\n2017-03-04 16:54:55\t1\n"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1488645395548_1510617029",
      "id": "20170304-163635_619061164",
      "dateCreated": "Mar 4, 2017 4:36:35 PM",
      "dateStarted": "Mar 4, 2017 4:55:00 PM",
      "dateFinished": "Mar 4, 2017 4:55:01 PM",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%spark\nssc.stop()\n",
      "user": "anonymous",
      "dateUpdated": "Mar 4, 2017 6:06:33 PM",
      "config": {
        "colWidth": 12.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "scala",
          "editOnDblClick": false
        },
        "editorMode": "ace/mode/scala"
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "apps": [],
      "jobName": "paragraph_1488647200197_1632540270",
      "id": "20170304-170640_966081262",
      "dateCreated": "Mar 4, 2017 5:06:40 PM",
      "status": "READY",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%spark\nimport org.apache.spark.streaming.twitter._\nval ssc \u003d new StreamingContext(sc, Seconds(5))\n//val tweets \u003d TwitterUtils.createStream(ssc, None, Array(\"#hadoop\", \"#bigdata\", \"#spark\", \"#hortonworks\", \"#HDP\",\" #mnwild \"))\nval tweets \u003d TwitterUtils.createStream(ssc, None)\n//tweets.saveAsObjectFiles(\"hdfs://sandbox.hortonworks.com:8020/test/twitter-spark/twitter_\", \".txt\")\n\nval twt \u003d tweets.window(Seconds(60))\n\ncase class Tweet(user: String, tweet: String, lat: Double, lon: Double)\ntwt.filter(_.getGeoLocation !\u003d null).map(t\u003d\u003e\n  Tweet(t.getUser().getName(), t.getText(), t.getGeoLocation().getLatitude(), t.getGeoLocation().getLongitude())).foreachRDD(rdd\u003d\u003e{\n    rdd.toDF().registerTempTable(\"tweets\")\n    //var items \u003d rdd.collect()\n    //z.angularBind(\"data\", items) \n}\n)\n\n//twt.print\n\nssc.start()",
      "user": "anonymous",
      "dateUpdated": "Mar 4, 2017 6:34:11 PM",
      "config": {
        "colWidth": 12.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "scala"
        },
        "editorMode": "ace/mode/scala"
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "ERROR",
        "msg": [
          {
            "type": "TEXT",
            "data": "\nimport org.apache.spark.streaming.twitter._\n\nssc: org.apache.spark.streaming.StreamingContext \u003d org.apache.spark.streaming.StreamingContext@55350758\n\ntweets: org.apache.spark.streaming.dstream.ReceiverInputDStream[twitter4j.Status] \u003d org.apache.spark.streaming.twitter.TwitterInputDStream@2b97307\n\ntwt: org.apache.spark.streaming.dstream.DStream[twitter4j.Status] \u003d org.apache.spark.streaming.dstream.WindowedDStream@333577e6\n\ndefined class Tweet\n\nwarning: there was one deprecation warning; re-run with -deprecation for details\n\n\n\n\n\n\n\n\n\n\n\n\njava.lang.IllegalStateException: RpcEnv has been stopped\n  at org.apache.spark.rpc.netty.Dispatcher.registerRpcEndpoint(Dispatcher.scala:65)\n  at org.apache.spark.rpc.netty.NettyRpcEnv.setupEndpoint(NettyRpcEnv.scala:129)\n  at org.apache.spark.streaming.scheduler.ReceiverTracker.start(ReceiverTracker.scala:158)\n  at org.apache.spark.streaming.scheduler.JobScheduler.start(JobScheduler.scala:94)\n  at org.apache.spark.streaming.StreamingContext$$anonfun$liftedTree1$1$1.apply$mcV$sp(StreamingContext.scala:583)\n  at org.apache.spark.streaming.StreamingContext$$anonfun$liftedTree1$1$1.apply(StreamingContext.scala:578)\n  at org.apache.spark.streaming.StreamingContext$$anonfun$liftedTree1$1$1.apply(StreamingContext.scala:578)\n  at ... run in separate thread using org.apache.spark.util.ThreadUtils ... ()\n  at org.apache.spark.streaming.StreamingContext.liftedTree1$1(StreamingContext.scala:578)\n  at org.apache.spark.streaming.StreamingContext.start(StreamingContext.scala:572)\n  ... 54 elided\n"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1488647225989_-1440587113",
      "id": "20170304-170705_1400146531",
      "dateCreated": "Mar 4, 2017 5:07:05 PM",
      "dateStarted": "Mar 4, 2017 6:34:11 PM",
      "dateFinished": "Mar 4, 2017 6:34:14 PM",
      "status": "ERROR",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%sql\n-- checking window contents\n\nselect * from tweets",
      "user": "anonymous",
      "dateUpdated": "Mar 4, 2017 6:34:06 PM",
      "config": {
        "colWidth": 12.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "sql"
        },
        "editorMode": "ace/mode/sql"
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "ERROR",
        "msg": [
          {
            "type": "TEXT",
            "data": "java.lang.IllegalStateException: SparkContext has been shutdown\n\tat org.apache.spark.SparkContext.runJob(SparkContext.scala:1865)\n\tat org.apache.spark.SparkContext.runJob(SparkContext.scala:1886)\n\tat org.apache.spark.SparkContext.runJob(SparkContext.scala:1899)\n\tat org.apache.spark.sql.execution.SparkPlan.executeTake(SparkPlan.scala:347)\n\tat org.apache.spark.sql.execution.CollectLimitExec.executeCollect(limit.scala:39)\n\tat org.apache.spark.sql.Dataset$$anonfun$org$apache$spark$sql$Dataset$$execute$1$1.apply(Dataset.scala:2193)\n\tat org.apache.spark.sql.execution.SQLExecution$.withNewExecutionId(SQLExecution.scala:57)\n\tat org.apache.spark.sql.Dataset.withNewExecutionId(Dataset.scala:2546)\n\tat org.apache.spark.sql.Dataset.org$apache$spark$sql$Dataset$$execute$1(Dataset.scala:2192)\n\tat org.apache.spark.sql.Dataset.org$apache$spark$sql$Dataset$$collect(Dataset.scala:2199)\n\tat org.apache.spark.sql.Dataset$$anonfun$head$1.apply(Dataset.scala:1935)\n\tat org.apache.spark.sql.Dataset$$anonfun$head$1.apply(Dataset.scala:1934)\n\tat org.apache.spark.sql.Dataset.withTypedCallback(Dataset.scala:2576)\n\tat org.apache.spark.sql.Dataset.head(Dataset.scala:1934)\n\tat org.apache.spark.sql.Dataset.take(Dataset.scala:2149)\n\tat sun.reflect.GeneratedMethodAccessor44.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.apache.zeppelin.spark.ZeppelinContext.showDF(ZeppelinContext.java:235)\n\tat org.apache.zeppelin.spark.SparkSqlInterpreter.interpret(SparkSqlInterpreter.java:130)\n\tat org.apache.zeppelin.interpreter.LazyOpenInterpreter.interpret(LazyOpenInterpreter.java:94)\n\tat org.apache.zeppelin.interpreter.remote.RemoteInterpreterServer$InterpretJob.jobRun(RemoteInterpreterServer.java:489)\n\tat org.apache.zeppelin.scheduler.Job.run(Job.java:175)\n\tat org.apache.zeppelin.scheduler.FIFOScheduler$1.run(FIFOScheduler.java:139)\n\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\n\tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)\n\tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n\tat java.lang.Thread.run(Thread.java:745)\n"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1488651700174_-397928581",
      "id": "20170304-182140_1143884594",
      "dateCreated": "Mar 4, 2017 6:21:40 PM",
      "dateStarted": "Mar 4, 2017 6:34:06 PM",
      "dateFinished": "Mar 4, 2017 6:34:06 PM",
      "status": "ERROR",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%spark\nimport org.apache.spark.streaming.twitter._\ncase class Tweet(user: String, tweet: String, lat: Double, lon: Double)\n\nval ssc \u003d new StreamingContext(sc, Seconds(2))\n\nval tweets \u003d TwitterUtils.createStream(ssc, None).window(Seconds(10))\n\ntweets.foreachRDD(rdd \u003d\u003e {\n    val df \u003d rdd\n      .filter(_.getGeoLocation !\u003d null)\n      .map(t \u003d\u003e Tweet(t.getUser.getName, t.getText, t.getGeoLocation.getLatitude, t.getGeoLocation.getLongitude))\n          \n    var items \u003d df.collect\n    z.angularBind(\"data\", items) \n})\n\nssc.start()\n",
      "user": "anonymous",
      "dateUpdated": "Mar 4, 2017 5:01:05 PM",
      "config": {
        "colWidth": 12.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "scala"
        },
        "editorMode": "ace/mode/scala"
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "ERROR",
        "msg": [
          {
            "type": "TEXT",
            "data": "\nimport org.apache.spark.streaming.twitter._\n\ndefined class Tweet\n\nssc: org.apache.spark.streaming.StreamingContext \u003d org.apache.spark.streaming.StreamingContext@3a197e15\n\ntweets: org.apache.spark.streaming.dstream.DStream[twitter4j.Status] \u003d org.apache.spark.streaming.dstream.WindowedDStream@26445de6\n\n\n\n\n\n\n\n\n\n\n\n\njava.lang.IllegalStateException: RpcEnv has been stopped\n  at org.apache.spark.rpc.netty.Dispatcher.registerRpcEndpoint(Dispatcher.scala:65)\n  at org.apache.spark.rpc.netty.NettyRpcEnv.setupEndpoint(NettyRpcEnv.scala:129)\n  at org.apache.spark.streaming.scheduler.ReceiverTracker.start(ReceiverTracker.scala:158)\n  at org.apache.spark.streaming.scheduler.JobScheduler.start(JobScheduler.scala:94)\n  at org.apache.spark.streaming.StreamingContext$$anonfun$liftedTree1$1$1.apply$mcV$sp(StreamingContext.scala:583)\n  at org.apache.spark.streaming.StreamingContext$$anonfun$liftedTree1$1$1.apply(StreamingContext.scala:578)\n  at org.apache.spark.streaming.StreamingContext$$anonfun$liftedTree1$1$1.apply(StreamingContext.scala:578)\n  at ... run in separate thread using org.apache.spark.util.ThreadUtils ... ()\n  at org.apache.spark.streaming.StreamingContext.liftedTree1$1(StreamingContext.scala:578)\n  at org.apache.spark.streaming.StreamingContext.start(StreamingContext.scala:572)\n  ... 58 elided\n"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1488644369785_-921054551",
      "id": "20170304-161929_1537388438",
      "dateCreated": "Mar 4, 2017 4:19:29 PM",
      "dateStarted": "Mar 4, 2017 5:01:05 PM",
      "dateFinished": "Mar 4, 2017 5:01:07 PM",
      "status": "ERROR",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%spark\nssc.stop(true,true)\n\n",
      "user": "anonymous",
      "dateUpdated": "Mar 4, 2017 6:33:49 PM",
      "config": {
        "colWidth": 12.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "scala"
        },
        "editorMode": "ace/mode/scala"
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": []
      },
      "apps": [],
      "jobName": "paragraph_1488644403109_-771341257",
      "id": "20170304-162003_1046576340",
      "dateCreated": "Mar 4, 2017 4:20:03 PM",
      "dateStarted": "Mar 4, 2017 6:33:49 PM",
      "dateFinished": "Mar 4, 2017 6:34:00 PM",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%spark\n",
      "user": "anonymous",
      "dateUpdated": "Mar 4, 2017 4:21:45 PM",
      "config": {},
      "settings": {
        "params": {},
        "forms": {}
      },
      "apps": [],
      "jobName": "paragraph_1488644505837_-617517794",
      "id": "20170304-162145_1114494194",
      "dateCreated": "Mar 4, 2017 4:21:45 PM",
      "status": "READY",
      "progressUpdateIntervalMs": 500
    }
  ],
  "name": "TwitterHookChap03",
  "id": "2CAK4XBUU",
  "angularObjects": {
    "2CBNPYUQA:shared_process": [],
    "2CBMM1NN8:shared_process": [],
    "2CBRFS2YR:shared_process": [],
    "2CCUSG2A1:shared_process": [],
    "2CB375ZW2:shared_process": [],
    "2CB66W7WC:shared_process": [],
    "2CCQE5G3F:shared_process": [],
    "2CB1HK364:shared_process": [],
    "2CAH1K37C:shared_process": [],
    "2C9ENCRHF:shared_process": [],
    "2CD7EM9A1:shared_process": [],
    "2CD831WRV:shared_process": [],
    "2CBTFKZPE:shared_process": [],
    "2CAU5UPGU:shared_process": [],
    "2CBQSAKU8:shared_process": [],
    "2CB1ZXFWK:shared_process": [],
    "2CBUSFEH3:shared_process": [],
    "2C9EDJ52U:shared_process": [],
    "2C9GX9EN9:shared_process": []
  },
  "config": {},
  "info": {}
}