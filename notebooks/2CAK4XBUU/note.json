{
  "paragraphs": [
    {
      "title": "Hook Local Package Files to Path",
      "text": "%python\nimport sys\nsys.path.insert(0,\"/notebook/pythonpckg/Chap02_03\")\nprint(sys.path)",
      "user": "anonymous",
      "dateUpdated": "Apr 18, 2018 5:24:30 PM",
      "config": {
        "colWidth": 12.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "text",
          "editOnDblClick": false
        },
        "editorMode": "ace/mode/text",
        "title": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TEXT",
            "data": "[\u0027/notebook/pythonpckg/Chap02_03\u0027, \u0027/notebook/pythonpckg/Chap02_03\u0027, \u0027/notebook/pythonpckg/Chap02_03\u0027, \u0027/notebook/pythonpckg/Chap02_03\u0027, \u0027/notebook/pythonpckg/Chap02_03\u0027, \u0027/notebook/pythonpckg/Chap02_03\u0027, \u0027/notebook/pythonpckg/Chap02_03\u0027, \u0027/notebook/pythonpckg/Chap02_03\u0027, \u0027/notebook/pythonpckg/Chap02_03\u0027, \u0027/notebook/pythonpckg/Chap02_03\u0027, \u0027/notebook/pythonpckg/Chap02_03\u0027, \u0027/tmp\u0027, \u0027/zeppelin/interpreter/python/py4j-0.9.2/src\u0027, \u0027/zeppelin/interpreter/lib/python\u0027, \u0027/opt/conda/lib/python27.zip\u0027, \u0027/opt/conda/lib/python2.7\u0027, \u0027/opt/conda/lib/python2.7/plat-linux2\u0027, \u0027/opt/conda/lib/python2.7/lib-tk\u0027, \u0027/opt/conda/lib/python2.7/lib-old\u0027, \u0027/opt/conda/lib/python2.7/lib-dynload\u0027, \u0027/opt/conda/lib/python2.7/site-packages\u0027, \u0027/opt/conda/lib/python2.7/site-packages/setuptools-27.2.0-py2.7.egg\u0027]\n"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1488164473531_1981506022",
      "id": "20170227-030113_187077902",
      "dateCreated": "Feb 27, 2017 3:01:13 AM",
      "dateStarted": "Apr 18, 2018 5:24:30 PM",
      "dateFinished": "Apr 18, 2018 5:24:30 PM",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%python\nfrom twitter_client import get_twitter_client\nimport json\nclient \u003d get_twitter_client()\nprofile \u003d client.get_user(screen_name\u003d\"PacktPub\")\nprint(json.dumps(profile._json, indent \u003d4))\n\n",
      "user": "anonymous",
      "dateUpdated": "Apr 18, 2018 5:24:34 PM",
      "config": {
        "colWidth": 12.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "text",
          "editOnDblClick": false
        },
        "editorMode": "ace/mode/text"
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TEXT",
            "data": "{\n    \"follow_request_sent\": false, \n    \"has_extended_profile\": false, \n    \"profile_use_background_image\": true, \n    \"profile_text_color\": \"666666\", \n    \"default_profile_image\": false, \n    \"id\": 17778401, \n    \"profile_background_image_url_https\": \"https://pbs.twimg.com/profile_background_images/498821312354058242/-H6BGz56.png\", \n    \"verified\": true, \n    \"translator_type\": \"none\", \n    \"profile_location\": null, \n    \"profile_image_url_https\": \"https://pbs.twimg.com/profile_images/953941203170492417/rzI8nThx_normal.jpg\", \n    \"profile_sidebar_fill_color\": \"CC9933\", \n    \"entities\": {\n        \"url\": {\n            \"urls\": [\n                {\n                    \"url\": \"http://t.co/vEPCgOu235\", \n                    \"indices\": [\n                        0, \n                        22\n                    ], \n                    \"expanded_url\": \"http://www.PacktPub.com\", \n                    \"display_url\": \"PacktPub.com\"\n                }\n            ]\n        }, \n        \"description\": {\n            \"urls\": []\n        }\n    }, \n    \"followers_count\": 24341, \n    \"profile_sidebar_border_color\": \"000000\", \n    \"id_str\": \"17778401\", \n    \"profile_background_color\": \"FFA200\", \n    \"listed_count\": 1259, \n    \"status\": {\n        \"contributors\": null, \n        \"truncated\": false, \n        \"text\": \"Access every Packt eBook and video for free with Mapt \\u2013 get your free trial today! https://t.co/6lxLtt5qam https://t.co/hSjgdMStxT\", \n        \"is_quote_status\": false, \n        \"in_reply_to_status_id\": null, \n        \"id\": 986650768764817408, \n        \"favorite_count\": 0, \n        \"source\": \"\u003ca href\u003d\\\"http://sproutsocial.com\\\" rel\u003d\\\"nofollow\\\"\u003eSprout Social\u003c/a\u003e\", \n        \"retweeted\": false, \n        \"coordinates\": null, \n        \"entities\": {\n            \"symbols\": [], \n            \"user_mentions\": [], \n            \"hashtags\": [], \n            \"urls\": [\n                {\n                    \"url\": \"https://t.co/6lxLtt5qam\", \n                    \"indices\": [\n                        83, \n                        106\n                    ], \n                    \"expanded_url\": \"http://bit.ly/2JDimmq\", \n                    \"display_url\": \"bit.ly/2JDimmq\"\n                }\n            ], \n            \"media\": [\n                {\n                    \"expanded_url\": \"https://twitter.com/PacktPub/status/986650768764817408/photo/1\", \n                    \"display_url\": \"pic.twitter.com/hSjgdMStxT\", \n                    \"url\": \"https://t.co/hSjgdMStxT\", \n                    \"media_url_https\": \"https://pbs.twimg.com/tweet_video_thumb/DbFJpNrUwAASvbg.jpg\", \n                    \"id_str\": \"986650765765689344\", \n                    \"sizes\": {\n                        \"small\": {\n                            \"h\": 294, \n                            \"resize\": \"fit\", \n                            \"w\": 590\n                        }, \n                        \"large\": {\n                            \"h\": 294, \n                            \"resize\": \"fit\", \n                            \"w\": 590\n                        }, \n                        \"medium\": {\n                            \"h\": 294, \n                            \"resize\": \"fit\", \n                            \"w\": 590\n                        }, \n                        \"thumb\": {\n                            \"h\": 150, \n                            \"resize\": \"crop\", \n                            \"w\": 150\n                        }\n                    }, \n                    \"indices\": [\n                        107, \n                        130\n                    ], \n                    \"type\": \"photo\", \n                    \"id\": 986650765765689344, \n                    \"media_url\": \"http://pbs.twimg.com/tweet_video_thumb/DbFJpNrUwAASvbg.jpg\"\n                }\n            ]\n        }, \n        \"in_reply_to_screen_name\": null, \n        \"in_reply_to_user_id\": null, \n        \"retweet_count\": 0, \n        \"id_str\": \"986650768764817408\", \n        \"favorited\": false, \n        \"geo\": null, \n        \"in_reply_to_user_id_str\": null, \n        \"possibly_sensitive\": false, \n        \"lang\": \"en\", \n        \"created_at\": \"Wed Apr 18 17:00:49 +0000 2018\", \n        \"in_reply_to_status_id_str\": null, \n        \"place\": null, \n        \"extended_entities\": {\n            \"media\": [\n                {\n                    \"expanded_url\": \"https://twitter.com/PacktPub/status/986650768764817408/photo/1\", \n                    \"display_url\": \"pic.twitter.com/hSjgdMStxT\", \n                    \"url\": \"https://t.co/hSjgdMStxT\", \n                    \"media_url_https\": \"https://pbs.twimg.com/tweet_video_thumb/DbFJpNrUwAASvbg.jpg\", \n                    \"video_info\": {\n                        \"aspect_ratio\": [\n                            295, \n                            147\n                        ], \n                        \"variants\": [\n                            {\n                                \"url\": \"https://video.twimg.com/tweet_video/DbFJpNrUwAASvbg.mp4\", \n                                \"bitrate\": 0, \n                                \"content_type\": \"video/mp4\"\n                            }\n                        ]\n                    }, \n                    \"id_str\": \"986650765765689344\", \n                    \"sizes\": {\n                        \"small\": {\n                            \"h\": 294, \n                            \"resize\": \"fit\", \n                            \"w\": 590\n                        }, \n                        \"large\": {\n                            \"h\": 294, \n                            \"resize\": \"fit\", \n                            \"w\": 590\n                        }, \n                        \"medium\": {\n                            \"h\": 294, \n                            \"resize\": \"fit\", \n                            \"w\": 590\n                        }, \n                        \"thumb\": {\n                            \"h\": 150, \n                            \"resize\": \"crop\", \n                            \"w\": 150\n                        }\n                    }, \n                    \"indices\": [\n                        107, \n                        130\n                    ], \n                    \"type\": \"animated_gif\", \n                    \"id\": 986650765765689344, \n                    \"media_url\": \"http://pbs.twimg.com/tweet_video_thumb/DbFJpNrUwAASvbg.jpg\"\n                }\n            ]\n        }\n    }, \n    \"is_translation_enabled\": false, \n    \"utc_offset\": 3600, \n    \"statuses_count\": 26134, \n    \"description\": \"We help developers build better software | Email customercare@packtpub.com for support | Twitter support available from 6am - 2pm GMT, Mon-Fri\", \n    \"friends_count\": 1055, \n    \"location\": \"Birmingham, UK\", \n    \"profile_link_color\": \"0084B4\", \n    \"profile_image_url\": \"http://pbs.twimg.com/profile_images/953941203170492417/rzI8nThx_normal.jpg\", \n    \"following\": false, \n    \"geo_enabled\": true, \n    \"profile_banner_url\": \"https://pbs.twimg.com/profile_banners/17778401/1523883674\", \n    \"profile_background_image_url\": \"http://pbs.twimg.com/profile_background_images/498821312354058242/-H6BGz56.png\", \n    \"name\": \"Packt\", \n    \"lang\": \"en\", \n    \"profile_background_tile\": true, \n    \"favourites_count\": 1960, \n    \"screen_name\": \"PacktPub\", \n    \"notifications\": false, \n    \"url\": \"http://t.co/vEPCgOu235\", \n    \"created_at\": \"Mon Dec 01 13:16:47 +0000 2008\", \n    \"contributors_enabled\": false, \n    \"time_zone\": \"London\", \n    \"protected\": false, \n    \"default_profile\": false, \n    \"is_translator\": false\n}\n"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1488164539535_1378463289",
      "id": "20170227-030219_2047250947",
      "dateCreated": "Feb 27, 2017 3:02:19 AM",
      "dateStarted": "Apr 18, 2018 5:24:34 PM",
      "dateFinished": "Apr 18, 2018 5:24:34 PM",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "title": "Get Followers and Friends of Target",
      "text": "%sh cd /notebook \u0026\u0026\npython /notebook/pythonpckg/Chap02_03/twitter_get_user.py MarkA2663",
      "user": "anonymous",
      "dateUpdated": "Apr 18, 2018 5:24:42 PM",
      "config": {
        "colWidth": 12.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "text",
          "editOnDblClick": false
        },
        "editorMode": "ace/mode/text",
        "title": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": []
      },
      "apps": [],
      "jobName": "paragraph_1488164833954_-1339573152",
      "id": "20170227-030713_247712242",
      "dateCreated": "Feb 27, 2017 3:07:13 AM",
      "dateStarted": "Apr 18, 2018 5:24:42 PM",
      "dateFinished": "Apr 18, 2018 5:24:44 PM",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%sh ps aux  | grep /notebook/pythonpckg/Chap02_03/twitter_get_user.py\n",
      "user": "anonymous",
      "dateUpdated": "Apr 18, 2018 5:24:49 PM",
      "config": {
        "colWidth": 12.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "text",
          "editOnDblClick": false
        },
        "editorMode": "ace/mode/text"
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TEXT",
            "data": "root     15315  0.0  0.0  19700  1508 ?        S    17:24   0:00 bash -c ps aux  | grep /notebook/pythonpckg/Chap02_03/twitter_get_user.py\nroot     15320  0.0  0.0  12940   980 ?        S    17:24   0:00 grep /notebook/pythonpckg/Chap02_03/twitter_get_user.py\n"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1504977791819_1106714438",
      "id": "20170909-172311_1517261061",
      "dateCreated": "Sep 9, 2017 5:23:11 PM",
      "dateStarted": "Apr 18, 2018 5:24:49 PM",
      "dateFinished": "Apr 18, 2018 5:24:50 PM",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%sh kill 920\n",
      "user": "anonymous",
      "dateUpdated": "Sep 9, 2017 5:25:19 PM",
      "config": {
        "colWidth": 12.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "sh",
          "editOnDblClick": false
        },
        "editorMode": "ace/mode/sh"
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "apps": [],
      "jobName": "paragraph_1504977858700_1510224090",
      "id": "20170909-172418_1100759746",
      "dateCreated": "Sep 9, 2017 5:24:18 PM",
      "dateStarted": "Sep 9, 2017 5:25:19 PM",
      "dateFinished": "Sep 9, 2017 5:25:19 PM",
      "status": "FINISHED",
      "errorMessage": "",
      "progressUpdateIntervalMs": 500
    },
    {
      "title": "User Stats list methods",
      "text": "%sh cd /notebook \u0026\u0026\npython /notebook/pythonpckg/Chap02_03/twitter_followers_stats.py MarkA2663\n",
      "user": "anonymous",
      "dateUpdated": "Apr 18, 2018 5:25:02 PM",
      "config": {
        "colWidth": 12.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "text",
          "editOnDblClick": false
        },
        "editorMode": "ace/mode/text",
        "title": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "ERROR",
        "msg": [
          {
            "type": "TEXT",
            "data": "Traceback (most recent call last)----- Timing -----\nInitialize data: 0.000333070755005\nSet-based operatio:n\n  File \"/notebook/pythonpckg/Chap02_03/twitter_followers_stsa:t s2..p8y6\"1,0 2l2i9n4e9 2424e,- 06\nTotal time:i n0 .\u003c0m0o0d3u3l5e9\u003e3\n1 7 7 7 9s5o4m\ne-_-m-u-t-u aSlt_aftrsi e-n-d-s- -\u003d\n M\u0027a,r k\u0027A.2j6o6i3n (hsaasm p1l ef(omutual_friends, 5))\n  File \"/opt/conda/lib/python2.7/random.py\", line 323, in sample\nllowers\n M a r krAa2i6s6e3  Vhas 3 friends\nMarkA2663 has 0 mutual friends\n3 friends are not following MarkA2663a lbuaecEkr\nr1o rf(o\"lslaomwpelres  laarre not followed back by MarkA2663\nger than population\")\nValueError: sample larger than population\n"
          },
          {
            "type": "TEXT",
            "data": "ExitValue: 1"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1488417617941_885708161",
      "id": "20170302-012017_977099561",
      "dateCreated": "Mar 2, 2017 1:20:17 AM",
      "dateStarted": "Apr 18, 2018 5:25:02 PM",
      "dateFinished": "Apr 18, 2018 5:25:02 PM",
      "status": "ERROR",
      "progressUpdateIntervalMs": 500
    },
    {
      "title": "Check set operator timing",
      "text": "%sh cd /notebook \u0026\u0026\npython /notebook/pythonpckg/Chap02_03/twitter_followers_stats_set.py MarkA2663\n",
      "user": "anonymous",
      "dateUpdated": "Sep 9, 2017 9:53:09 PM",
      "config": {
        "colWidth": 12.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "text",
          "editOnDblClick": false
        },
        "editorMode": "ace/mode/text",
        "title": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "apps": [],
      "jobName": "paragraph_1488418654299_-993331612",
      "id": "20170302-013734_1397451114",
      "dateCreated": "Mar 2, 2017 1:37:34 AM",
      "dateStarted": "Sep 9, 2017 9:53:09 PM",
      "dateFinished": "Sep 9, 2017 9:53:09 PM",
      "status": "FINISHED",
      "errorMessage": "",
      "progressUpdateIntervalMs": 500
    },
    {
      "title": "Check Numpy Timing",
      "text": "%sh cd /notebook \u0026\u0026\npython /notebook/pythonpckg/Chap02_03/twitter_followers_stats_numpy.py MarkA2663\n",
      "user": "anonymous",
      "dateUpdated": "Sep 9, 2017 9:53:13 PM",
      "config": {
        "colWidth": 12.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "text",
          "editOnDblClick": false
        },
        "editorMode": "ace/mode/text",
        "title": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "apps": [],
      "jobName": "paragraph_1488419191926_888638367",
      "id": "20170302-014631_1742619980",
      "dateCreated": "Mar 2, 2017 1:46:31 AM",
      "dateStarted": "Sep 9, 2017 9:53:13 PM",
      "dateFinished": "Sep 9, 2017 9:53:13 PM",
      "status": "FINISHED",
      "errorMessage": "",
      "progressUpdateIntervalMs": 500
    },
    {
      "title": "Get Source data for influencers followers",
      "text": "%sh cd /notebook \u0026\u0026\npython /notebook/pythonpckg/Chap02_03/twitter_get_user.py marcobonzanini \u0026\u0026\npython /notebook/pythonpckg/Chap02_03/twitter_get_user.py MarkA2663\n",
      "user": "anonymous",
      "dateUpdated": "Sep 13, 2017 3:52:35 PM",
      "config": {
        "colWidth": 12.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "text",
          "editOnDblClick": false
        },
        "editorMode": "ace/mode/text",
        "title": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "apps": [],
      "jobName": "paragraph_1488419717618_355342454",
      "id": "20170302-015517_131044796",
      "dateCreated": "Mar 2, 2017 1:55:17 AM",
      "dateStarted": "Sep 9, 2017 9:53:17 PM",
      "dateFinished": "Sep 9, 2017 9:53:28 PM",
      "status": "FINISHED",
      "errorMessage": "",
      "progressUpdateIntervalMs": 500
    },
    {
      "title": "Get Source data for influencer timelines",
      "text": "%sh cd /notebook \u0026\u0026\npython /notebook/pythonpckg/Chap02_03/twitter_get_user_timeline.py marcobonzanini \u0026\u0026\npython /notebook/pythonpckg/Chap02_03/twitter_get_user_timeline.py MarkA2663\n",
      "user": "anonymous",
      "dateUpdated": "Apr 18, 2018 6:10:00 PM",
      "config": {
        "colWidth": 12.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "sh",
          "editOnDblClick": false
        },
        "editorMode": "ace/mode/sh",
        "title": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "apps": [],
      "jobName": "paragraph_1488419918381_78767647",
      "id": "20170302-015838_1562410435",
      "dateCreated": "Mar 2, 2017 1:58:38 AM",
      "dateStarted": "Sep 9, 2017 9:53:41 PM",
      "dateFinished": "Sep 9, 2017 9:53:45 PM",
      "status": "FINISHED",
      "errorMessage": "",
      "progressUpdateIntervalMs": 500
    },
    {
      "title": "Compute Influence ",
      "text": "%sh cd /notebook \u0026\u0026\npython /notebook/pythonpckg/Chap02_03/twitter_influence.py marcobonzanini MarkA2663\n",
      "user": "anonymous",
      "dateUpdated": "Sep 13, 2017 3:53:42 PM",
      "config": {
        "colWidth": 12.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "text",
          "editOnDblClick": false
        },
        "editorMode": "ace/mode/text",
        "title": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "apps": [],
      "jobName": "paragraph_1488419228019_117094229",
      "id": "20170302-014708_1962196116",
      "dateCreated": "Mar 2, 2017 1:47:08 AM",
      "dateStarted": "Sep 9, 2017 9:53:47 PM",
      "dateFinished": "Sep 9, 2017 9:53:48 PM",
      "status": "FINISHED",
      "errorMessage": "",
      "progressUpdateIntervalMs": 500
    },
    {
      "title": "Cluster Kmeans by TF-IDF",
      "text": "%sh cd /notebook \u0026\u0026\npython /notebook/pythonpckg/Chap02_03/twitter_cluster_users.py \\\n--filename users/marcobonzanini/followers.jsonl \\\n--k 5 \\\n--max-features 200 \\\n--max-ngram 3\n",
      "user": "anonymous",
      "dateUpdated": "Sep 9, 2017 9:53:52 PM",
      "config": {
        "colWidth": 12.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "text",
          "editOnDblClick": false
        },
        "editorMode": "ace/mode/text",
        "title": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "apps": [],
      "jobName": "paragraph_1488419702611_1735806184",
      "id": "20170302-015502_1068225597",
      "dateCreated": "Mar 2, 2017 1:55:02 AM",
      "dateStarted": "Sep 9, 2017 9:53:52 PM",
      "dateFinished": "Sep 9, 2017 9:53:55 PM",
      "status": "FINISHED",
      "errorMessage": "",
      "progressUpdateIntervalMs": 500
    },
    {
      "title": "Collect Streaming Events",
      "text": "%sh cd /notebook \u0026\u0026\npython /notebook/pythonpckg/Chap02_03/twitter_streaming.py \\#cocktail\n",
      "user": "anonymous",
      "dateUpdated": "Sep 9, 2017 9:55:29 PM",
      "config": {
        "colWidth": 12.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "scala"
        },
        "editorMode": "ace/mode/scala",
        "title": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "apps": [],
      "jobName": "paragraph_1504994111409_1044953838",
      "id": "20170909-215511_1433266402",
      "dateCreated": "Sep 9, 2017 9:55:11 PM",
      "dateStarted": "Sep 9, 2017 9:55:29 PM",
      "status": "ABORT",
      "errorMessage": "",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%sh ps aux  | grep /notebook/pythonpckg/Chap02_03/twitter_streaming.py\n",
      "user": "anonymous",
      "dateUpdated": "Sep 9, 2017 9:56:24 PM",
      "config": {
        "colWidth": 12.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "scala"
        },
        "editorMode": "ace/mode/scala"
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "apps": [],
      "jobName": "paragraph_1504994141274_-396117972",
      "id": "20170909-215541_153372288",
      "dateCreated": "Sep 9, 2017 9:55:41 PM",
      "dateStarted": "Sep 9, 2017 9:56:24 PM",
      "dateFinished": "Sep 9, 2017 9:56:24 PM",
      "status": "FINISHED",
      "errorMessage": "",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%sh kill 400\n",
      "user": "anonymous",
      "dateUpdated": "Sep 9, 2017 9:56:33 PM",
      "config": {
        "colWidth": 12.0,
        "enabled": true,
        "results": {},
        "editorSetting": {}
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "apps": [],
      "jobName": "paragraph_1504994137610_-141814274",
      "id": "20170909-215537_1252182617",
      "dateCreated": "Sep 9, 2017 9:55:37 PM",
      "status": "READY",
      "errorMessage": "",
      "progressUpdateIntervalMs": 500
    },
    {
      "title": "Networkx Conversation Thread",
      "text": "%sh cd /notebook \u0026\u0026\npython /notebook/pythonpckg/Chap02_03/twitter_conversation.py stream__cocktail.jsonl\n",
      "user": "anonymous",
      "dateUpdated": "Sep 13, 2017 8:25:28 PM",
      "config": {
        "colWidth": 12.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "text",
          "editOnDblClick": false
        },
        "editorMode": "ace/mode/text",
        "title": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "apps": [],
      "jobName": "paragraph_1488421807700_-939549965",
      "id": "20170302-023007_1078982491",
      "dateCreated": "Mar 2, 2017 2:30:07 AM",
      "dateStarted": "Sep 9, 2017 9:59:06 PM",
      "dateFinished": "Sep 9, 2017 9:59:07 PM",
      "status": "FINISHED",
      "errorMessage": "",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%sh cd /notebook \u0026\u0026\npython /notebook/pythonpckg/Chap02_03/twitter_make_geojson.py --tweets stream__cocktail.jsonl --geojson stream_cocktail.geo.json",
      "user": "anonymous",
      "dateUpdated": "Sep 9, 2017 9:59:20 PM",
      "config": {
        "colWidth": 12.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "sh",
          "editOnDblClick": false
        },
        "editorMode": "ace/mode/sh"
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "apps": [],
      "jobName": "paragraph_1488422277768_-779264036",
      "id": "20170302-023757_337772184",
      "dateCreated": "Mar 2, 2017 2:37:57 AM",
      "dateStarted": "Sep 9, 2017 9:59:20 PM",
      "dateFinished": "Sep 9, 2017 9:59:20 PM",
      "status": "FINISHED",
      "errorMessage": "",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%sh cd /notebook \u0026\u0026\ncat stream_cocktail.geo.json\n",
      "user": "anonymous",
      "dateUpdated": "Sep 9, 2017 9:59:23 PM",
      "config": {
        "colWidth": 12.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "sh",
          "editOnDblClick": false
        },
        "editorMode": "ace/mode/sh"
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "apps": [],
      "jobName": "paragraph_1488638891343_-424264564",
      "id": "20170304-144811_88786110",
      "dateCreated": "Mar 4, 2017 2:48:11 PM",
      "dateStarted": "Sep 9, 2017 9:59:23 PM",
      "dateFinished": "Sep 9, 2017 9:59:23 PM",
      "status": "FINISHED",
      "errorMessage": "",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%python\nimport folium\nfolium.GeoJson(open(\u0027/notebook/stream_cocktail.geo.jso\u0027),name\u003d\u0027geojson\u0027)\n",
      "user": "anonymous",
      "dateUpdated": "Sep 9, 2017 10:00:23 PM",
      "config": {
        "colWidth": 12.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "python",
          "editOnDblClick": false
        },
        "editorMode": "ace/mode/python"
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "apps": [],
      "jobName": "paragraph_1488643019077_-1973301754",
      "id": "20170304-155659_1823844582",
      "dateCreated": "Mar 4, 2017 3:56:59 PM",
      "dateStarted": "Sep 9, 2017 10:00:23 PM",
      "dateFinished": "Sep 9, 2017 10:00:23 PM",
      "status": "ERROR",
      "errorMessage": "",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%dep\nz.reset()\n//z.load(\"org.apache.spark:spark-streaming-twitter_2.11:1.5.2\")\nz.load(\"org.apache.bahir:spark-streaming-twitter_2.11:2.0.1\")\nz.load(\"org.twitter4j:twitter4j-core:3.0.3\")\nz.load(\"org.twitter4j:twitter4j-media-support:3.0.3\")\nz.load(\"org.twitter4j:twitter4j-async:3.0.3\")\nz.load(\"org.twitter4j:twitter4j-examples:3.0.3\")\nz.load(\"org.twitter4j:twitter4j-stream:3.0.3\")\n",
      "user": "anonymous",
      "dateUpdated": "Sep 9, 2017 10:03:26 PM",
      "config": {
        "colWidth": 12.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "text",
          "editOnDblClick": false
        },
        "editorMode": "ace/mode/text"
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "apps": [],
      "jobName": "paragraph_1488644102885_1730267088",
      "id": "20170304-161502_1014211897",
      "dateCreated": "Mar 4, 2017 4:15:02 PM",
      "dateStarted": "Sep 9, 2017 10:03:27 PM",
      "dateFinished": "Sep 9, 2017 10:03:46 PM",
      "status": "FINISHED",
      "errorMessage": "",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%spark\nimport org.apache.spark.streaming._\nimport org.apache.spark.streaming.twitter._\n//import org.apache.bahir.spark.streaming.twitter._\nimport org.apache.spark.storage.StorageLevel\nimport scala.io.Source\nimport scala.collection.mutable.HashMap\nimport java.io.File\nimport org.apache.log4j.Logger\nimport org.apache.log4j.Level\nimport sys.process.stringSeqToProcess\nimport twitter4j.HashtagEntity\n\nval consumerKey \u003d System.getenv(\"TWITTER_CONSUMER_KEY\")\nval consumerSecret \u003d System.getenv(\"TWITTER_CONSUMER_SECRET\")\nval accessToken \u003d System.getenv(\"TWITTER_ACCESS_TOKEN\")\nval accessTokenSecret \u003d System.getenv(\"TWITTER_ACCESS_SECRET\")\n\nSystem.setProperty(\"twitter4j.oauth.consumerKey\", consumerKey)\nSystem.setProperty(\"twitter4j.oauth.consumerSecret\", consumerSecret)\nSystem.setProperty(\"twitter4j.oauth.accessToken\", accessToken)\nSystem.setProperty(\"twitter4j.oauth.accessTokenSecret\", accessTokenSecret)\n",
      "user": "anonymous",
      "dateUpdated": "Sep 9, 2017 10:16:56 PM",
      "config": {
        "colWidth": 12.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "scala",
          "editOnDblClick": false
        },
        "editorMode": "ace/mode/scala"
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TEXT",
            "data": "\nimport org.apache.spark.streaming._\n\nimport org.apache.spark.streaming.twitter._\n\nimport org.apache.spark.storage.StorageLevel\n\nimport scala.io.Source\n\nimport scala.collection.mutable.HashMap\n\nimport java.io.File\n\nimport org.apache.log4j.Logger\n\nimport org.apache.log4j.Level\n\nimport sys.process.stringSeqToProcess\n\nimport twitter4j.HashtagEntity\n\nconsumerKey: String \u003d UZXuNs30p93oGmxh4L8Bm39A2\n\nconsumerSecret: String \u003d KJrToBczE1JqBafrZQg9yrrHVkx3SGhlq29hCLSMPq3enDfIjL\n\naccessToken: String \u003d 828809891196391424-t3S2blpCVwoSUwjTeXkETXvZwtdOgvj\n\naccessTokenSecret: String \u003d YbL3vYPwwfSRAC9zvbe1rgFGuIS2vsRk3jigc2qqGhng3\n\nres46: String \u003d UZXuNs30p93oGmxh4L8Bm39A2\n\nres47: String \u003d KJrToBczE1JqBafrZQg9yrrHVkx3SGhlq29hCLSMPq3enDfIjL\n\nres48: String \u003d 828809891196391424-t3S2blpCVwoSUwjTeXkETXvZwtdOgvj\n\nres49: String \u003d YbL3vYPwwfSRAC9zvbe1rgFGuIS2vsRk3jigc2qqGhng3\n"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1488644061932_1416819328",
      "id": "20170304-161421_2143422983",
      "dateCreated": "Mar 4, 2017 4:14:21 PM",
      "dateStarted": "Sep 9, 2017 10:16:56 PM",
      "dateFinished": "Sep 9, 2017 10:17:04 PM",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%angular\n\u003clink rel\u003d\"stylesheet\" href\u003d\"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.5/leaflet.css\" /\u003e\n\u003cdiv id\u003d\"map\" style\u003d\"height: 800px; width: 100%\"\u003e\u003c/div\u003e\n\n\u003cscript type\u003d\"text/javascript\"\u003e\nfunction initMap() {\n    var map \u003d L.map(\u0027map\u0027).setView([30.00, -30.00], 3);\n\n    L.tileLayer(\u0027http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\u0027, {\n        attribution: \u0027Map data \u0026copy; \u003ca href\u003d\"http://openstreetmap.org\"\u003eOpenStreetMap\u003c/a\u003e contributors\u0027,\n        maxZoom: 12,\n        minZoom: 3\n    }).addTo(map);\n\n    var el \u003d angular.element($(\u0027#map\u0027).parent(\u0027.ng-scope\u0027));\n    angular.element(el).ready(function() {\n        window.locationWatcher \u003d el.scope().compiledScope.$watch(\u0027data\u0027, function(newValue, oldValue) {\n            angular.forEach(newValue, function(tweet) {\n                L.marker([tweet.lat, tweet.lon]).bindPopup(\"\u003cb\u003e\" + tweet.user + \"\u003c/b\u003e\u003cbr\u003e\" + tweet.tweet).addTo(map);             \n            });\n        })\n    });\n}\n\nif (window.locationWatcher) { window.locationWatcher(); }\n\nif (window.L) { initMap(); }\nelse {\n    var sc \u003d document.createElement(\u0027script\u0027);\n    sc.type \u003d \u0027text/javascript\u0027;\n    sc.src \u003d \u0027https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.5/leaflet.js\u0027;\n    sc.onload \u003d initMap;\n    sc.onerror \u003d function(err) { alert(err); }\n    document.getElementsByTagName(\u0027head\u0027)[0].appendChild(sc);\n}\n\u003c/script\u003e\n",
      "user": "anonymous",
      "dateUpdated": "Sep 14, 2017 12:46:08 AM",
      "config": {
        "colWidth": 12.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "scala",
          "editOnDblClick": true
        },
        "editorMode": "ace/mode/undefined",
        "editorHide": false,
        "tableHide": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "ANGULAR",
            "data": "\u003clink rel\u003d\"stylesheet\" href\u003d\"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.5/leaflet.css\" /\u003e\n\u003cdiv id\u003d\"map\" style\u003d\"height: 800px; width: 100%\"\u003e\u003c/div\u003e\n\n\u003cscript type\u003d\"text/javascript\"\u003e\nfunction initMap() {\n    var map \u003d L.map(\u0027map\u0027).setView([30.00, -30.00], 3);\n\n    L.tileLayer(\u0027http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\u0027, {\n        attribution: \u0027Map data \u0026copy; \u003ca href\u003d\"http://openstreetmap.org\"\u003eOpenStreetMap\u003c/a\u003e contributors\u0027,\n        maxZoom: 12,\n        minZoom: 3\n    }).addTo(map);\n\n    var el \u003d angular.element($(\u0027#map\u0027).parent(\u0027.ng-scope\u0027));\n    angular.element(el).ready(function() {\n        window.locationWatcher \u003d el.scope().compiledScope.$watch(\u0027data\u0027, function(newValue, oldValue) {\n            angular.forEach(newValue, function(tweet) {\n                L.marker([tweet.lat, tweet.lon]).bindPopup(\"\u003cb\u003e\" + tweet.user + \"\u003c/b\u003e\u003cbr\u003e\" + tweet.tweet).addTo(map);             \n            });\n        })\n    });\n}\n\nif (window.locationWatcher) { window.locationWatcher(); }\n\nif (window.L) { initMap(); }\nelse {\n    var sc \u003d document.createElement(\u0027script\u0027);\n    sc.type \u003d \u0027text/javascript\u0027;\n    sc.src \u003d \u0027https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.5/leaflet.js\u0027;\n    sc.onload \u003d initMap;\n    sc.onerror \u003d function(err) { alert(err); }\n    document.getElementsByTagName(\u0027head\u0027)[0].appendChild(sc);\n}\n\u003c/script\u003e"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1488641060259_19077251",
      "id": "20170304-152420_131094033",
      "dateCreated": "Mar 4, 2017 3:24:20 PM",
      "dateStarted": "Sep 9, 2017 10:19:04 PM",
      "dateFinished": "Sep 9, 2017 10:19:04 PM",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%spark\nimport org.apache.spark.streaming.twitter._\nval ssc \u003d new StreamingContext(sc, Seconds(5))\n//val tweets \u003d TwitterUtils.createStream(ssc, None, Array(\"#cocktails\"))\nval tweets \u003d TwitterUtils.createStream(ssc, None)\n//tweets.saveAsObjectFiles(\"hdfs://sandbox.hortonworks.com:8020/test/twitter-spark/twitter_\", \".txt\")\n\nval twt \u003d tweets.window(Seconds(60))\n\ncase class Tweet(user: String, tweet: String, lat: Double, lon: Double)\ntwt.filter(_.getGeoLocation !\u003d null).map(t\u003d\u003e\n  Tweet(t.getUser().getName(), t.getText(), t.getGeoLocation().getLatitude(), t.getGeoLocation().getLongitude())).foreachRDD(rdd\u003d\u003e{\n    var items \u003d rdd.collect()\n    z.angularBind(\"data\", items) \n    rdd.toDF().registerTempTable(\"tweets\")\n}\n)\n\n//twt.print\n\nssc.start()",
      "user": "anonymous",
      "dateUpdated": "Sep 9, 2017 10:19:30 PM",
      "config": {
        "colWidth": 12.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "scala",
          "editOnDblClick": false
        },
        "editorMode": "ace/mode/scala"
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "ERROR",
        "msg": [
          {
            "type": "TEXT",
            "data": "\nimport org.apache.spark.streaming.twitter._\n\nssc: org.apache.spark.streaming.StreamingContext \u003d org.apache.spark.streaming.StreamingContext@704c961d\n\ntweets: org.apache.spark.streaming.dstream.ReceiverInputDStream[twitter4j.Status] \u003d org.apache.spark.streaming.twitter.TwitterInputDStream@41081407\n\ntwt: org.apache.spark.streaming.dstream.DStream[twitter4j.Status] \u003d org.apache.spark.streaming.dstream.WindowedDStream@140d9650\n\ndefined class Tweet\n\nwarning: there was one deprecation warning; re-run with -deprecation for details\n\n\n\n\n\n\n\n\n\n\n\n\njava.lang.IllegalStateException: RpcEnv has been stopped\n  at org.apache.spark.rpc.netty.Dispatcher.registerRpcEndpoint(Dispatcher.scala:65)\n  at org.apache.spark.rpc.netty.NettyRpcEnv.setupEndpoint(NettyRpcEnv.scala:129)\n  at org.apache.spark.streaming.scheduler.ReceiverTracker.start(ReceiverTracker.scala:158)\n  at org.apache.spark.streaming.scheduler.JobScheduler.start(JobScheduler.scala:101)\n  at org.apache.spark.streaming.StreamingContext$$anonfun$liftedTree1$1$1.apply$mcV$sp(StreamingContext.scala:583)\n  at org.apache.spark.streaming.StreamingContext$$anonfun$liftedTree1$1$1.apply(StreamingContext.scala:578)\n  at org.apache.spark.streaming.StreamingContext$$anonfun$liftedTree1$1$1.apply(StreamingContext.scala:578)\n  at ... run in separate thread using org.apache.spark.util.ThreadUtils ... ()\n  at org.apache.spark.streaming.StreamingContext.liftedTree1$1(StreamingContext.scala:578)\n  at org.apache.spark.streaming.StreamingContext.start(StreamingContext.scala:572)\n  ... 66 elided\n"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1488647225989_-1440587113",
      "id": "20170304-170705_1400146531",
      "dateCreated": "Mar 4, 2017 5:07:05 PM",
      "dateStarted": "Sep 9, 2017 10:19:30 PM",
      "dateFinished": "Sep 9, 2017 10:19:35 PM",
      "status": "ERROR",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%sql\n-- checking window contents\n\nselect * from tweets",
      "user": "anonymous",
      "dateUpdated": "Sep 9, 2017 10:12:48 PM",
      "config": {
        "colWidth": 12.0,
        "enabled": true,
        "results": {
          "0": {
            "graph": {
              "mode": "scatterChart",
              "height": 300.0,
              "optionOpen": true,
              "setting": {
                "multiBarChart": {},
                "scatterChart": {
                  "xAxis": {
                    "name": "user",
                    "index": 0.0,
                    "aggr": "sum"
                  },
                  "yAxis": {
                    "name": "tweet",
                    "index": 1.0,
                    "aggr": "sum"
                  }
                }
              },
              "keys": [
                {
                  "name": "user",
                  "index": 0.0,
                  "aggr": "sum"
                }
              ],
              "groups": [],
              "values": [
                {
                  "name": "tweet",
                  "index": 1.0,
                  "aggr": "sum"
                }
              ]
            },
            "helium": {}
          }
        },
        "editorSetting": {
          "language": "text",
          "editOnDblClick": false
        },
        "editorMode": "ace/mode/text"
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "apps": [],
      "jobName": "paragraph_1488651700174_-397928581",
      "id": "20170304-182140_1143884594",
      "dateCreated": "Mar 4, 2017 6:21:40 PM",
      "dateStarted": "Sep 9, 2017 10:12:48 PM",
      "dateFinished": "Sep 9, 2017 10:12:48 PM",
      "status": "ERROR",
      "errorMessage": "",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%spark\nssc.stop()\n\n",
      "user": "anonymous",
      "dateUpdated": "Sep 9, 2017 10:19:53 PM",
      "config": {
        "colWidth": 12.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "scala",
          "editOnDblClick": false
        },
        "editorMode": "ace/mode/scala"
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": []
      },
      "apps": [],
      "jobName": "paragraph_1488644403109_-771341257",
      "id": "20170304-162003_1046576340",
      "dateCreated": "Mar 4, 2017 4:20:03 PM",
      "dateStarted": "Sep 9, 2017 10:19:53 PM",
      "dateFinished": "Sep 9, 2017 10:19:54 PM",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%spark\n",
      "user": "anonymous",
      "dateUpdated": "Mar 4, 2017 4:21:45 PM",
      "config": {},
      "settings": {
        "params": {},
        "forms": {}
      },
      "apps": [],
      "jobName": "paragraph_1488644505837_-617517794",
      "id": "20170304-162145_1114494194",
      "dateCreated": "Mar 4, 2017 4:21:45 PM",
      "status": "READY",
      "errorMessage": "",
      "progressUpdateIntervalMs": 500
    }
  ],
  "name": "TwitterHookChap03",
  "id": "2CAK4XBUU",
  "angularObjects": {
    "2DAWMDD7G:shared_process": [],
    "2D93ZFUKM:shared_process": [],
    "2DBW9ND8K:shared_process": [],
    "2D916ASA7:shared_process": [],
    "2D9NB9935:shared_process": [],
    "2D9Y5FEG3:shared_process": [],
    "2DBKUEZ11:shared_process": [],
    "2DC21XE5A:shared_process": [],
    "2DAHZA4XV:shared_process": [],
    "2D89NKXKH:shared_process": [],
    "2D8R34V7F:shared_process": [],
    "2DA37HUSF:shared_process": [],
    "2D93CZMNX:shared_process": [],
    "2D9A4EHM1:shared_process": [],
    "2D98PPRPD:shared_process": [],
    "2DBKBTC5G:shared_process": [],
    "2DANSEQT7:shared_process": [],
    "2D94E1F5P:shared_process": [],
    "2D8ABJPSV:shared_process": []
  },
  "config": {},
  "info": {}
}