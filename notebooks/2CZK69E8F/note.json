{
  "paragraphs": [
    {
      "text": "%dep\nz.reset()\n//z.load(\"org.apache.spark:spark-streaming-twitter_2.11:1.5.2\")\nz.load(\"org.apache.bahir:spark-streaming-twitter_2.11:2.0.1\")\nz.load(\"org.twitter4j:twitter4j-core:3.0.3\")\nz.load(\"org.twitter4j:twitter4j-media-support:3.0.3\")\nz.load(\"org.twitter4j:twitter4j-async:3.0.3\")\nz.load(\"org.twitter4j:twitter4j-examples:3.0.3\")\nz.load(\"org.twitter4j:twitter4j-stream:3.0.3\")\n",
      "user": "anonymous",
      "dateUpdated": "Nov 13, 2017 5:10:30 PM",
      "config": {
        "colWidth": 12.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "scala",
          "editOnDblClick": false
        },
        "editorMode": "ace/mode/scala",
        "editorHide": false
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TEXT",
            "data": "res0: org.apache.zeppelin.dep.Dependency \u003d org.apache.zeppelin.dep.Dependency@5d6ad008\n"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1510095637175_-1662165592",
      "id": "20171107-230037_2703926",
      "dateCreated": "Nov 7, 2017 11:00:37 PM",
      "dateStarted": "Nov 13, 2017 5:10:30 PM",
      "dateFinished": "Nov 13, 2017 5:10:34 PM",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%spark\nimport org.apache.spark.streaming._\nimport org.apache.spark.streaming.twitter._\n//import org.apache.bahir.spark.streaming.twitter._\nimport org.apache.spark.storage.StorageLevel\nimport scala.io.Source\nimport scala.collection.mutable.HashMap\nimport java.io.File\nimport org.apache.log4j.Logger\nimport org.apache.log4j.Level\nimport sys.process.stringSeqToProcess\nimport twitter4j.HashtagEntity\n\nval consumerKey \u003d System.getenv(\"TWITTER_CONSUMER_KEY\")\nval consumerSecret \u003d System.getenv(\"TWITTER_CONSUMER_SECRET\")\nval accessToken \u003d System.getenv(\"TWITTER_ACCESS_TOKEN\")\nval accessTokenSecret \u003d System.getenv(\"TWITTER_ACCESS_SECRET\")\n\nSystem.setProperty(\"twitter4j.oauth.consumerKey\", consumerKey)\nSystem.setProperty(\"twitter4j.oauth.consumerSecret\", consumerSecret)\nSystem.setProperty(\"twitter4j.oauth.accessToken\", accessToken)\nSystem.setProperty(\"twitter4j.oauth.accessTokenSecret\", accessTokenSecret)\n\n\n\n",
      "user": "anonymous",
      "dateUpdated": "Nov 13, 2017 5:10:41 PM",
      "config": {
        "colWidth": 12.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "scala",
          "editOnDblClick": false
        },
        "editorMode": "ace/mode/scala",
        "editorHide": false
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TEXT",
            "data": "import org.apache.spark.streaming._\nimport org.apache.spark.streaming.twitter._\nimport org.apache.spark.storage.StorageLevel\nimport scala.io.Source\nimport scala.collection.mutable.HashMap\nimport java.io.File\nimport org.apache.log4j.Logger\nimport org.apache.log4j.Level\nimport sys.process.stringSeqToProcess\nimport twitter4j.HashtagEntity\nconsumerKey: String \u003d bcfMz9WsSeJLAFKs8DcSCq5qS\nconsumerSecret: String \u003d Cy33bYqk9JWUr3kvGqzaLnwbBfv3BLZ4M6nysxPpBMUUAu1JJE\naccessToken: String \u003d 4332384689-zNH8ikndg5Mq8icy07Kvni6TmP2zEg43L21Ftca\naccessTokenSecret: String \u003d Rz7ZvL05ywhxMvKyRaxhxAVUkjGrwHlug2fTvxRzhN3YW\nres3: String \u003d null\nres4: String \u003d null\nres5: String \u003d null\nres6: String \u003d null\n"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1510095673391_-780074281",
      "id": "20171107-230113_874628575",
      "dateCreated": "Nov 7, 2017 11:01:13 PM",
      "dateStarted": "Nov 13, 2017 5:10:41 PM",
      "dateFinished": "Nov 13, 2017 5:10:48 PM",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "title": "https://spark.apache.org/docs/latest/streaming-programming-guide.html",
      "text": "%spark\nimport org.apache.spark.streaming.twitter._\nval ssc \u003d new StreamingContext(sc, Seconds(10))\nval tweets \u003d TwitterUtils.createStream(ssc, None, Array(\"#maga\"))\n//val tweets \u003d TwitterUtils.createStream(ssc, None)\n//tweets.saveAsObjectFiles(\"hdfs://sandbox.hortonworks.com:8020/test/twitter-spark/twitter_\", \".txt\")\n\nval twt \u003d tweets.window(Seconds(120))\n\ncase class Tweet(createdAt:Long, text:String, screenName:String)\ntwt.map(t\u003d\u003e\n  Tweet(t.getCreatedAt().getTime()/1000, t.getText(), t.getUser().getScreenName())).foreachRDD(rdd\u003d\u003e{\n    rdd.toDF().registerTempTable(\"tweets\")\n}\n)\n\n//twt.print\n\nssc.start()\n",
      "user": "anonymous",
      "dateUpdated": "Nov 13, 2017 5:10:59 PM",
      "config": {
        "colWidth": 12.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "scala",
          "editOnDblClick": false
        },
        "editorMode": "ace/mode/scala",
        "title": true,
        "editorHide": false
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TEXT",
            "data": "import org.apache.spark.streaming.twitter._\nssc: org.apache.spark.streaming.StreamingContext \u003d org.apache.spark.streaming.StreamingContext@5669f154\ntweets: org.apache.spark.streaming.dstream.ReceiverInputDStream[twitter4j.Status] \u003d org.apache.spark.streaming.twitter.TwitterInputDStream@45a70fe5\ntwt: org.apache.spark.streaming.dstream.DStream[twitter4j.Status] \u003d org.apache.spark.streaming.dstream.WindowedDStream@a45c110\ndefined class Tweet\nwarning: there was one deprecation warning; re-run with -deprecation for details\n"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1510095758414_-531236977",
      "id": "20171107-230238_377548329",
      "dateCreated": "Nov 7, 2017 11:02:38 PM",
      "dateStarted": "Nov 13, 2017 5:10:59 PM",
      "dateFinished": "Nov 13, 2017 5:11:01 PM",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%sql\n-- checking window contents\n\nselect text from tweets\n",
      "user": "anonymous",
      "dateUpdated": "Nov 13, 2017 5:11:10 PM",
      "config": {
        "colWidth": 12.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "sql"
        },
        "editorMode": "ace/mode/sql"
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TABLE",
            "data": "text\nSeriously? he has opened the way for EU, China, Russia \u0026 rest of the world 2 lead by withdrawing from formerly US l‚Ä¶ https://t.co/Yg3lUDGn1W\nRT @realDonaldTrump: Will be leaving the Philippines tomorrow after many days of constant mtgs \u0026 work in order to #MAGA! My promises are ra‚Ä¶\n#BREAKING #BreakingNews #update #Latest #latestnews #trending #trendingnews #TwitterMoments #Africa #northkorea‚Ä¶ https://t.co/lzOlToTQ98\nRT @energystics: Great news Senator! We NEED you to provide direction and wisdom for your colleagues to get their job done! #MAGA https://t‚Ä¶\nRT @SandraTXAS: Outrageous ‚ÄºÔ∏è\nBergdahl could get 300K in back pay. If anyone gets $$$ it should be service members injured looking‚Ä¶ \nRT @Jali_Cat: TICK-FREAKIN-TOCK!\nGreat news! Now let‚Äôs just pray @FBI doesn‚Äôt hide Informant info or send them on a Clinton Perm‚Ä¶ \nRT @bfraser747: üå¥üå¥#MakeCaliforniaGreatAgain \nPlease FOLLOW, SUPPORT,  @AjaforCongress \u0026 donate for her bid for Congress #CA41‚Ä¶ \nMSNBC Host Chris Hayes: Clinton Supporters Are Due For A \u0027Reckoning\u0027 Over Sexual Harassment Claims‚Ä¶ https://t.co/JdkunV2qLI\nRT @jackTweets11: Just so it\u0027s clear. #Maga people are going to #BoycottKeurig because Keurig is taking a stand against pedophilia.‚Ä¶ \n#running üòõ #MAGA #Derby https://t.co/25NULVuAts\nRT @jackTweets11: Just so it\u0027s clear. #Maga people are going to #BoycottKeurig because Keurig is taking a stand against pedophilia.‚Ä¶ \nRT @seanhannity: Love it https://t.co/t3wMzMwQeI\nRT @CarmineZozzora: The same seditious Left and criminal media that defended Bill Clinton‚Äôs history of unspeakable behavior to the deat‚Ä¶ \nI want to talk #TermLimits for #Congress starting w/ ! ü§îüòâ #MAGA\nRT @AnnaApp91838450: https://t.co/jHcjfLyOw0\nGOD we need to bring MILITARY TANKS to our Legal System and PURGE COMPLETELY üëèüá∫üá∏\nSO MUCH CO‚Ä¶ \nLet\u0027s face it They just don\u0027t get it. They think the Public is so stupid they continue to contradict themselves eve‚Ä¶ https://t.co/B79Gfnw36t\n"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1510588568376_1330277239",
      "id": "20171113-155608_321901324",
      "dateCreated": "Nov 13, 2017 3:56:08 PM",
      "dateStarted": "Nov 13, 2017 5:11:10 PM",
      "dateFinished": "Nov 13, 2017 5:11:11 PM",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%sql\n-- checking window contents\n\nselect from_unixtime(createdAt), count(1) from tweets group by createdAt order by createdAt\n",
      "user": "anonymous",
      "dateUpdated": "Nov 13, 2017 5:11:19 PM",
      "config": {
        "colWidth": 12.0,
        "enabled": true,
        "results": {
          "0": {
            "graph": {
              "mode": "lineChart",
              "height": 300.0,
              "optionOpen": false
            },
            "helium": {}
          }
        },
        "editorSetting": {
          "language": "sql",
          "editOnDblClick": false
        },
        "editorMode": "ace/mode/sql",
        "editorHide": false
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TABLE",
            "data": "from_unixtime(createdAt, yyyy-MM-dd HH:mm:ss)\tcount(1)\n2017-11-13 17:11:02\t2\n2017-11-13 17:11:03\t1\n2017-11-13 17:11:04\t1\n2017-11-13 17:11:05\t4\n2017-11-13 17:11:06\t2\n2017-11-13 17:11:07\t2\n2017-11-13 17:11:08\t3\n2017-11-13 17:11:09\t1\n"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1510095903466_2101431181",
      "id": "20171107-230503_1517724842",
      "dateCreated": "Nov 7, 2017 11:05:03 PM",
      "dateStarted": "Nov 13, 2017 5:11:19 PM",
      "dateFinished": "Nov 13, 2017 5:11:20 PM",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "/* declaring a function in Scala */\n\ndef sentiment(s:String) : String \u003d {\n    val positive \u003d Array(\"like\", \"love\", \"good\", \"great\", \"happy\", \"cool\", \"the\", \"one\", \"that\")\n    val negative \u003d Array(\"hate\", \"bad\", \"stupid\", \"is\", \"hillary\")\n\n    var st \u003d 0;\n\n    val words \u003d s.split(\" \")    \n    positive.foreach(p \u003d\u003e\n        words.foreach(w \u003d\u003e\n            if(p\u003d\u003dw) st \u003d st+1\n        )\n    )\n\n    negative.foreach(p\u003d\u003e\n        words.foreach(w\u003d\u003e\n            if(p\u003d\u003dw) st \u003d st-1\n        )\n    )\n    if(st\u003e0)\n        \"positivie\"\n    else if(st\u003c0)\n        \"negative\"\n    else\n        \"neutral\"\n}\n\nsqlc.udf.register(\"sentiment\", sentiment _)\n",
      "user": "anonymous",
      "dateUpdated": "Nov 13, 2017 5:24:47 PM",
      "config": {
        "colWidth": 12.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "scala",
          "editOnDblClick": false
        },
        "editorMode": "ace/mode/scala",
        "editorHide": false
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TEXT",
            "data": "sentiment: (s: String)String\nres39: org.apache.spark.sql.expressions.UserDefinedFunction \u003d UserDefinedFunction(\u003cfunction1\u003e,StringType,Some(List(StringType)))\n"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1510095929516_-875508977",
      "id": "20171107-230529_1623792657",
      "dateCreated": "Nov 7, 2017 11:05:29 PM",
      "dateStarted": "Nov 13, 2017 5:24:47 PM",
      "dateFinished": "Nov 13, 2017 5:24:47 PM",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%sql\n\n--Ok, lets take a peek at sentiment with our function\nselect  sentiment(text) as sentiment, text from tweets LIMIT 1",
      "user": "anonymous",
      "dateUpdated": "Nov 13, 2017 5:32:19 PM",
      "config": {
        "colWidth": 12.0,
        "enabled": true,
        "results": {
          "0": {
            "graph": {
              "mode": "table",
              "height": 300.0,
              "optionOpen": true
            },
            "helium": {}
          }
        },
        "editorSetting": {
          "language": "sql"
        },
        "editorMode": "ace/mode/sql"
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TABLE",
            "data": "sentiment\ttext\npositivie\tRT @AntonioSabatoJr: With Mom last night @ the Republican Jewish Coalition . #MAGA https://t.co/jx5jz9hEKJ üá∫üá∏üáÆüá± https://t.co/ptMr59hwvW\n"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1510593097260_-291172883",
      "id": "20171113-171137_557436332",
      "dateCreated": "Nov 13, 2017 5:11:37 PM",
      "dateStarted": "Nov 13, 2017 5:32:19 PM",
      "dateFinished": "Nov 13, 2017 5:32:19 PM",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%sql\n\n--Ok, lets take a peek at sentiment with our function\n--and make a plot\n\nselect  sentiment(text) as sentiment, count(1) from tweets group by sentiment(text)",
      "user": "anonymous",
      "dateUpdated": "Nov 13, 2017 5:32:37 PM",
      "config": {
        "colWidth": 12.0,
        "enabled": true,
        "results": {
          "0": {
            "graph": {
              "mode": "table",
              "height": 300.0,
              "optionOpen": false
            },
            "helium": {}
          }
        },
        "editorSetting": {
          "language": "sql",
          "editOnDblClick": false
        },
        "editorMode": "ace/mode/sql",
        "editorHide": false
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TABLE",
            "data": "sentiment\tcount(1)\nneutral\t205\nnegative\t31\npositivie\t115\n"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1510096229387_-1526490436",
      "id": "20171107-231029_473151385",
      "dateCreated": "Nov 7, 2017 11:10:29 PM",
      "dateStarted": "Nov 13, 2017 5:32:37 PM",
      "dateFinished": "Nov 13, 2017 5:32:37 PM",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%sql\n\n--show most common words for negatives tweets\n\nselect word, sentiment, count(1) as cnt\nfrom \n(\n   select from_unixtime(createdAt) as created, screenName, sentiment(text) as sentiment,  text  from tweets\n) sub1\nlateral view explode(split(text, \u0027 \u0027)) t as word \nwhere sentiment \u003d \u0027negative\u0027\ngroup by word, sentiment\nhaving count(1) \u003e 5\norder by cnt desc\n",
      "user": "anonymous",
      "dateUpdated": "Nov 13, 2017 5:32:43 PM",
      "config": {
        "colWidth": 12.0,
        "enabled": true,
        "results": {
          "0": {
            "graph": {
              "mode": "multiBarChart",
              "height": 300.0,
              "optionOpen": false,
              "setting": {
                "multiBarChart": {
                  "stacked": false
                }
              },
              "commonSetting": {},
              "keys": [
                {
                  "name": "word",
                  "index": 0.0,
                  "aggr": "sum"
                }
              ],
              "groups": [],
              "values": [
                {
                  "name": "cnt",
                  "index": 2.0,
                  "aggr": "sum"
                }
              ]
            },
            "helium": {}
          }
        },
        "editorSetting": {
          "language": "sql",
          "editOnDblClick": false
        },
        "editorMode": "ace/mode/sql",
        "editorHide": false
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TABLE",
            "data": "word\tsentiment\tcnt\nis\tnegative\t37\nRT\tnegative\t26\n\tnegative\t25\na\tnegative\t19\nto\tnegative\t13\nfor\tnegative\t11\nof\tnegative\t9\nThe\tnegative\t8\nin\tnegative\t7\n#MAGA\tnegative\t6\nwho\tnegative\t6\nTrump\tnegative\t6\nThis\tnegative\t6\nthis\tnegative\t6\n"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1510096264553_-788926271",
      "id": "20171107-231104_1599062660",
      "dateCreated": "Nov 7, 2017 11:11:04 PM",
      "dateStarted": "Nov 13, 2017 5:32:43 PM",
      "dateFinished": "Nov 13, 2017 5:32:43 PM",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%sql\n\n--show most common words for positivie tweets\n\nselect word, sentiment, count(1) as cnt\nfrom \n(\n   select from_unixtime(createdAt) as created, screenName, sentiment(text) as sentiment,  text  from tweets\n) sub1\nlateral view explode(split(text, \u0027 \u0027)) t as word \nwhere sentiment \u003d \u0027positivie\u0027\ngroup by word, sentiment\nhaving count(1) \u003e 5\norder by cnt desc\n",
      "user": "anonymous",
      "dateUpdated": "Nov 13, 2017 5:32:51 PM",
      "config": {
        "colWidth": 12.0,
        "enabled": true,
        "results": {
          "0": {
            "graph": {
              "mode": "multiBarChart",
              "height": 300.0,
              "optionOpen": false,
              "setting": {
                "multiBarChart": {}
              },
              "commonSetting": {},
              "keys": [
                {
                  "name": "word",
                  "index": 0.0,
                  "aggr": "sum"
                }
              ],
              "groups": [],
              "values": [
                {
                  "name": "cnt",
                  "index": 2.0,
                  "aggr": "sum"
                }
              ]
            },
            "helium": {}
          }
        },
        "editorSetting": {
          "language": "sql",
          "editOnDblClick": false
        },
        "editorMode": "ace/mode/sql",
        "editorHide": false
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TABLE",
            "data": "word\tsentiment\tcnt\nthe\tpositivie\t145\nRT\tpositivie\t101\n\tpositivie\t85\nof\tpositivie\t70\nto\tpositivie\t63\nin\tpositivie\t54\na\tpositivie\t41\n\u0026\tpositivie\t38\nare\tpositivie\t34\nbe\tpositivie\t32\nWill\tpositivie\t26\nafter\tpositivie\t26\nMy\tpositivie\t25\nPhilippines\tpositivie\t25\nmany\tpositivie\t25\ntomorrow\tpositivie\t25\ndays\tpositivie\t25\nleaving\tpositivie\t25\nra‚Ä¶\tpositivie\t23\nwork\tpositivie\t23\nmtgs\tpositivie\t23\nconstant\tpositivie\t23\npromises\tpositivie\t23\n#MAGA!\tpositivie\t23\n@realDonaldTrump:\tpositivie\t23\norder\tpositivie\t23\nfor\tpositivie\t22\nthat\tpositivie\t22\nThe\tpositivie\t18\nhas\tpositivie\t18\n#MAGA\tpositivie\t17\nyou\tpositivie\t17\nhave\tpositivie\t12\nbeen\tpositivie\t12\n@realDonaldTrump\tpositivie\t11\nnot\tpositivie\t10\nback\tpositivie\t10\nthey\tpositivie\t10\nis\tpositivie\t10\nnow\tpositivie\t9\nPresident\tpositivie\t9\none\tpositivie\t9\nI\tpositivie\t9\nlike\tpositivie\t9\ndown\tpositivie\t9\nand\tpositivie\t9\nso\tpositivie\t9\nKeurig\tpositivie\t8\nWe\tpositivie\t8\nwas\tpositivie\t8\ngo\tpositivie\t8\nroad\tpositivie\t7\nare‚Ä¶\tpositivie\t7\ntheir\tpositivie\t7\nsame\tpositivie\t7\nwhich\tpositivie\t7\n@mikandynothem:\tpositivie\t7\nroad.\tpositivie\t7\nThey\tpositivie\t7\nI‚Äôm\tpositivie\t7\nregret,\tpositivie\t7\nto‚Ä¶\tpositivie\t7\nObama\tpositivie\t7\ndangerous\tpositivie\t7\n#NFL,\tpositivie\t7\nwill\tpositivie\t7\nwent\tpositivie\t7\nmillion\tpositivie\t7\ndown.\tpositivie\t7\nchosen\tpositivie\t7\nwho\tpositivie\t6\npeople\tpositivie\t6\non\tpositivie\t6\ngoing\tpositivie\t6\nhow\tpositivie\t6\n@Harlan:\tpositivie\t6\nour\tpositivie\t6\nvoters\tpositivie\t6\nsupported\tpositivie\t6\nby\tpositivie\t6\n2016...\nWe‚Äôre\tpositivie\t6\n7\tpositivie\t6\nPlease\tpositivie\t6\nyour\tpositivie\t6\n"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1510098675208_1982498845",
      "id": "20171107-235115_491215821",
      "dateCreated": "Nov 7, 2017 11:51:15 PM",
      "dateStarted": "Nov 13, 2017 5:32:51 PM",
      "dateFinished": "Nov 13, 2017 5:32:52 PM",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%pyspark\n\n#declaring a function in Python\n#to count the number of words by splitting on white space\n\nimport re\n\ndef wordcount(a):\n  return len(re.split(\"\\W+\",a))\n  \nsqlContext.registerFunction(\"wordcount\", wordcount)\n",
      "user": "anonymous",
      "dateUpdated": "Nov 13, 2017 5:22:43 PM",
      "config": {
        "colWidth": 12.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "python",
          "editOnDblClick": false
        },
        "editorMode": "ace/mode/python",
        "editorHide": false
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": []
      },
      "apps": [],
      "jobName": "paragraph_1510096361271_-2020168724",
      "id": "20171107-231241_396290152",
      "dateCreated": "Nov 7, 2017 11:12:41 PM",
      "dateStarted": "Nov 13, 2017 5:22:43 PM",
      "dateFinished": "Nov 13, 2017 5:22:43 PM",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%sql\n---maybe we want to know the word count associated with each\n\nselect  sentiment(text) as sentiment, wordcount(text) as wordcount, count(1) from tweets group by sentiment(text), wordcount(text)\n",
      "user": "anonymous",
      "dateUpdated": "Nov 13, 2017 5:22:49 PM",
      "config": {
        "colWidth": 12.0,
        "enabled": true,
        "results": {
          "0": {
            "graph": {
              "mode": "multiBarChart",
              "height": 300.0,
              "optionOpen": false
            },
            "helium": {}
          }
        },
        "editorSetting": {
          "language": "sql",
          "editOnDblClick": false
        },
        "editorMode": "ace/mode/sql",
        "editorHide": false
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TABLE",
            "data": "sentiment\twordcount\tcount(1)\nneutral\t15\t4\nneutral\t21\t19\nneutral\t22\t10\nnegative\t9\t1\npositivie\t20\t10\nneutral\t13\t3\nnegative\t22\t13\nneutral\t24\t29\npositivie\t28\t2\nnegative\t21\t1\nneutral\t7\t1\nneutral\t17\t7\nnegative\t23\t5\nneutral\t11\t4\nneutral\t18\t22\nneutral\t6\t3\nneutral\t8\t7\nneutral\t16\t20\nneutral\t27\t2\nneutral\t19\t15\npositivie\t15\t2\nneutral\t5\t2\npositivie\t27\t2\nneutral\t26\t7\nnegative\t25\t2\npositivie\t19\t9\nneutral\t10\t11\npositivie\t24\t43\npositivie\t22\t9\nneutral\t12\t9\npositivie\t29\t1\nnegative\t24\t4\npositivie\t23\t11\npositivie\t21\t5\npositivie\t8\t1\npositivie\t16\t2\nnegative\t14\t1\npositivie\t12\t2\nnegative\t20\t2\npositivie\t18\t4\nnegative\t12\t1\nneutral\t20\t15\npositivie\t26\t9\npositivie\t25\t10\nnegative\t26\t2\nneutral\t28\t1\nnegative\t19\t2\npositivie\t14\t2\nneutral\t23\t8\nneutral\t14\t4\nneutral\t25\t9\npositivie\t11\t1\nnegative\t28\t1\nnegative\t11\t1\nnegative\t17\t1\npositivie\t17\t1\n"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1510096344814_-92207310",
      "id": "20171107-231224_2097199119",
      "dateCreated": "Nov 7, 2017 11:12:24 PM",
      "dateStarted": "Nov 13, 2017 5:22:49 PM",
      "dateFinished": "Nov 13, 2017 5:22:51 PM",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%sql\n---maybe we want to know the raw counts by minute\n\nselect minute, sentiment, count(1) as cnt from\n(\n   select substr(from_unixtime(createdAt), 0, 16) as minute, screenName, sentiment(text) as sentiment, wordcount(text) as wordcount, text  from tweets\n) sub1\ngroup by minute, sentiment\norder by minute\n",
      "user": "anonymous",
      "dateUpdated": "Nov 13, 2017 5:22:54 PM",
      "config": {
        "colWidth": 12.0,
        "enabled": true,
        "results": {
          "0": {
            "graph": {
              "mode": "table",
              "height": 300.0,
              "optionOpen": false
            },
            "helium": {}
          }
        },
        "editorSetting": {
          "language": "sql",
          "editOnDblClick": false
        },
        "editorMode": "ace/mode/sql",
        "editorHide": false
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TABLE",
            "data": "minute\tsentiment\tcnt\n2017-11-13 17:20\tpositivie\t11\n2017-11-13 17:20\tnegative\t3\n2017-11-13 17:20\tneutral\t20\n2017-11-13 17:21\tneutral\t107\n2017-11-13 17:21\tpositivie\t63\n2017-11-13 17:21\tnegative\t21\n2017-11-13 17:22\tnegative\t11\n2017-11-13 17:22\tneutral\t83\n2017-11-13 17:22\tpositivie\t52\n"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1510098877012_-1091985288",
      "id": "20171107-235437_1745354127",
      "dateCreated": "Nov 7, 2017 11:54:37 PM",
      "dateStarted": "Nov 13, 2017 5:22:54 PM",
      "dateFinished": "Nov 13, 2017 5:22:55 PM",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%spark\nssc.stop()\n",
      "user": "anonymous",
      "dateUpdated": "Nov 13, 2017 3:58:43 PM",
      "config": {
        "colWidth": 12.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "scala",
          "editOnDblClick": false
        },
        "editorMode": "ace/mode/scala",
        "editorHide": false
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": []
      },
      "apps": [],
      "jobName": "paragraph_1510099289748_763119023",
      "id": "20171108-000129_241191086",
      "dateCreated": "Nov 8, 2017 12:01:29 AM",
      "dateStarted": "Nov 13, 2017 3:58:43 PM",
      "dateFinished": "Nov 13, 2017 3:58:44 PM",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%spark\n",
      "user": "anonymous",
      "dateUpdated": "Nov 8, 2017 9:48:59 PM",
      "config": {
        "colWidth": 12.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "text",
          "editOnDblClick": false
        },
        "editorMode": "ace/mode/text",
        "editorHide": false
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "apps": [],
      "jobName": "paragraph_1510099687271_-1272271057",
      "id": "20171108-000807_1559053565",
      "dateCreated": "Nov 8, 2017 12:08:07 AM",
      "status": "READY",
      "progressUpdateIntervalMs": 500
    }
  ],
  "name": "U_of_M_Twitter_Example_Part_3",
  "id": "2CZK69E8F",
  "angularObjects": {
    "2CZJVG5MN:shared_process": [],
    "2CWTGG3KP:shared_process": [],
    "2D19WB1SX:shared_process": [],
    "2D16N6K17:shared_process": [],
    "2CYJUZ3PK:shared_process": [],
    "2CXW1QUF1:shared_process": [],
    "2CYF8ZUHC:shared_process": [],
    "2CX6TK6VC:shared_process": [],
    "2CY8J9E5M:shared_process": [],
    "2CYMM4PZY:shared_process": [],
    "2CYUJ2KCT:shared_process": [],
    "2CZ7F5R3H:shared_process": [],
    "2CXP9EU5U:shared_process": [],
    "2D1HDHGB9:shared_process": [],
    "2CXU7D2Q5:shared_process": [],
    "2CYQFZSUP:shared_process": [],
    "2CZS63BSA:shared_process": [],
    "2D1KR2N41:shared_process": [],
    "2CZ3UFXP7:shared_process": []
  },
  "config": {},
  "info": {}
}